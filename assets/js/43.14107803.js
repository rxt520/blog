(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{367:function(s,a,e){"use strict";e.r(a);var n=e(3),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"mysql教程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql教程"}},[s._v("#")]),s._v(" MySql教程")]),s._v(" "),e("h2",{attrs:{id:"数据库和sql概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库和sql概述"}},[s._v("#")]),s._v(" 数据库和SQL概述")]),s._v(" "),e("h3",{attrs:{id:"数据库的好处"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库的好处"}},[s._v("#")]),s._v(" 数据库的好处")]),s._v(" "),e("ul",[e("li",[s._v("实现数据持久化")]),s._v(" "),e("li",[s._v("使用完整的管理系统统一管理，易于查询")])]),s._v(" "),e("h3",{attrs:{id:"数据库的概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库的概念"}},[s._v("#")]),s._v(" 数据库的概念")]),s._v(" "),e("p",[s._v("DB DBMS SQL 数据库（database）：存储数据的“仓库”。它保存了一系列有组织的数据。 数据库管理系统（Database Management System）。数据库是通过DBMS创 建和操作的容器 结构化查询语言（Structure Query Language）：专门用来与数据库通信的语 言")]),s._v(" "),e("p",[s._v("常见的数据库管理系统：MySQL、Oracle、DB2、SqlServe")]),s._v(" "),e("h3",{attrs:{id:"sql语言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql语言"}},[s._v("#")]),s._v(" SQL语言")]),s._v(" "),e("p",[s._v("数据库是不认识JAVA语言的，但是我们同样要与数据库交互，这时需要使用到数据库认识的语言SQL语句，它是数据库的代码。")]),s._v(" "),e("p",[s._v("结构化查询语言(Structured Query Language)简称SQL，是一种数据库查询和"),e("a",{attrs:{href:"http://baike.baidu.com/view/128511.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("程序设计语言"),e("OutboundLink")],1),s._v("，用于存取数据以及查询、更新和管理"),e("a",{attrs:{href:"http://baike.baidu.com/view/549699.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("关系数据库系统"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("p",[s._v("创建数据库、创建数据表、向数据表中添加一条条数据信息均需要使用SQL语句。")]),s._v(" "),e("h4",{attrs:{id:"dml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dml"}},[s._v("#")]),s._v(" DML")]),s._v(" "),e("p",[s._v("DML（Data Manipulation Language):数据操纵语句，用于添加、删除、修改、查询数据库记录，并检查数据完整性。包括如下SQL语句等：")]),s._v(" "),e("ul",[e("li",[s._v("INSERT：添加数据到数据库中")]),s._v(" "),e("li",[s._v("UPDATE：修改数据库中的数据")]),s._v(" "),e("li",[s._v("DELETE：删除数据库中的数据")]),s._v(" "),e("li",[s._v("SELECT：选择（查询）数据\n"),e("ul",[e("li",[s._v("SELECT是SQL语言的基础，最为重要。")])])])]),s._v(" "),e("h4",{attrs:{id:"ddl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ddl"}},[s._v("#")]),s._v(" DDL")]),s._v(" "),e("p",[s._v("DDL（Data Definition Language):数据定义语句，用于库和表的创建、修改、删除。包括如下SQL语句等：")]),s._v(" "),e("ul",[e("li",[s._v("CREATE TABLE：创建数据库表")]),s._v(" "),e("li",[s._v("ALTER TABLE：更改表结构、添加、删除、修改列长度")]),s._v(" "),e("li",[s._v("DROP TABLE：删除表")]),s._v(" "),e("li",[s._v("CREATE INDEX：在表上建立索引")]),s._v(" "),e("li",[s._v("DROP INDEX：删除索引")])]),s._v(" "),e("h4",{attrs:{id:"dcl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dcl"}},[s._v("#")]),s._v(" DCL")]),s._v(" "),e("p",[s._v("DCL（Data Control Language):数据控制语句，用于定义用户的访问权限和安全级别包括如下SQL语句等：")]),s._v(" "),e("ul",[e("li",[s._v("GRANT：授予访问权限")]),s._v(" "),e("li",[s._v("REVOKE：撤销访问权限")]),s._v(" "),e("li",[s._v("COMMIT：提交事务处理")]),s._v(" "),e("li",[s._v("ROLLBACK：事务处理回退")]),s._v(" "),e("li",[s._v("SAVEPOINT：设置保存点")]),s._v(" "),e("li",[s._v("LOCK：对数据库的特定部分进行锁定")])]),s._v(" "),e("h4",{attrs:{id:"dql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dql"}},[s._v("#")]),s._v(" DQL")]),s._v(" "),e("p",[s._v("数据查询语言：简称DQL(Data Query Language)，用来查询数据库中表的记录。关键字：select，from，where等")]),s._v(" "),e("h2",{attrs:{id:"mysql的安装与使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql的安装与使用"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/install?id=mysql%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8"}},[s._v("mysql的安装与使用")])]),s._v(" "),e("h3",{attrs:{id:"mysql的安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql的安装"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/install?id=mysql%E7%9A%84%E5%AE%89%E8%A3%85"}},[s._v("mysql的安装")])]),s._v(" "),e("ul",[e("li",[s._v("Windows")]),s._v(" "),e("li",[e("a",{attrs:{href:"https://note.zzrfdsn.cn/note/root/cloudlandboy/linux/1566488563139.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux"),e("OutboundLink")],1)])]),s._v(" "),e("h3",{attrs:{id:"启动和停止mysql服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动和停止mysql服务"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/install?id=%E5%90%AF%E5%8A%A8%E5%92%8C%E5%81%9C%E6%AD%A2mysql%E6%9C%8D%E5%8A%A1"}},[s._v("启动和停止MySQL服务")])]),s._v(" "),e("ul",[e("li",[e("p",[s._v("Windows")]),s._v(" "),e("p",[s._v("方式一：通过计算机管理方式 右击计算机—管理—服务—启动或停止MySQL服务 方式二：通过命令行方式 启动：net start mysql服务名 停止：net stop mysql服务名")])]),s._v(" "),e("li",[e("p",[s._v("Linux")]),s._v(" "),e("p",[s._v("启动：service mysql(mysqld) start")]),s._v(" "),e("p",[s._v("停止：service mysql(mysqld) stop")]),s._v(" "),e("p",[s._v("状态：service mysql(mysqld) status")])])]),s._v(" "),e("h3",{attrs:{id:"mysql服务端的登录和退出"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql服务端的登录和退出"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/install?id=mysql%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%9A%84%E7%99%BB%E5%BD%95%E5%92%8C%E9%80%80%E5%87%BA"}},[s._v("MySQL服务端的登录和退出")])]),s._v(" "),e("ul",[e("li",[e("p",[s._v("登录")]),s._v(" "),e("p",[s._v("mysql –u用户名 –p密码")])]),s._v(" "),e("li",[e("p",[s._v("远程登录")]),s._v(" "),e("p",[s._v("mysql -h 主机名 -P 端口号 -u root -proot")])]),s._v(" "),e("li",[e("p",[s._v("退出")]),s._v(" "),e("p",[s._v("exit(quit)")])])]),s._v(" "),e("h3",{attrs:{id:"mysql数据库的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据库的使用"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/install?id=mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"}},[s._v("MySql数据库的使用")])]),s._v(" "),e("ul",[e("li",[s._v("不区分大小写(Linux上区分，可以通过配置文件修改)")]),s._v(" "),e("li",[s._v("每句话用;或\\g结尾")]),s._v(" "),e("li",[s._v("各子句一般分行写")]),s._v(" "),e("li",[s._v("关键字不能缩写也不能分行")]),s._v(" "),e("li",[s._v("用缩进提高语句的可读性")])]),s._v(" "),e("h3",{attrs:{id:"基本命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/install?id=%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"}},[s._v("基本命令")])]),s._v(" "),e("p",[s._v("查看 mysql 中有哪些个数据库:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show databases;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("使用一个数据库:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("use 数据库名称;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查看当前使用数据库中的表：")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show tables;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查看指定数据库中的表：")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show tables from 库名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("新建一个数据库:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("#创建数据库 数据库中数据的编码采用的是安装数据库时指定的默认编码 utf8\nCREATE DATABASE 数据库名;\n\n#创建数据库 并指定数据库中数据的编码\nCREATE DATABASE 数据库名 CHARACTER SET utf8;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("查看当前选择的数据库:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select database();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("创建表:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table stuinfo(\n    id int,\n    name varchar(20));\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("查看表结构:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("desc 表名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查看表中的所有记录:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select * from 表名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("向表中插入记录：")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("insert into 表名(列名1,列名,...,列名n) values(列1值,列2值,...,列n值);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("注意：插入 varchar 或 date 型的数据要用 单引号 引起来")]),s._v(" "),e("h2",{attrs:{id:"基本查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本查询"}},[s._v("#")]),s._v(" 基本查询")]),s._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://www.lanzous.com/i763iqf",target:"_blank",rel:"noopener noreferrer"}},[s._v("SQL文件"),e("OutboundLink")],1)])]),s._v(" "),e("h3",{attrs:{id:"select-语句"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#select-语句"}},[s._v("#")]),s._v(" SELECT 语句")]),s._v(" "),e("blockquote",[e("p",[e("strong",[s._v("SELECT")]),s._v(" *****|{[DISTINCT] "),e("strong",[s._v("column")]),s._v("|expression [alias],...}"),e("strong",[s._v("FROM")]),s._v(" "),e("strong",[s._v("table")])])]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("SELECT")]),s._v(" 标识选择哪些列。")]),s._v(" "),e("li",[e("strong",[s._v("FROM")]),s._v(" 标识从哪个表中选")])]),s._v(" "),e("p",[s._v("语法：")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select 查询列表 from 表名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("特点：")]),s._v(" "),e("ol",[e("li",[s._v("查询列表可以是：表中的字段、常量值、表达式、函数")]),s._v(" "),e("li",[s._v("查询的结果是一个虚拟的表格")])]),s._v(" "),e("p",[s._v("查询全部列:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT *FROM 表名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查询特定的列:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT id, name FROM student;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查询表达式:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" SELECT 100%98;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查询函数:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select now();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"查询时给列的别名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询时给列的别名"}},[s._v("#")]),s._v(" 查询时给列的别名")]),s._v(" "),e("p",[s._v("别名使用双引号，以便在别名中包含空格或特殊的字符")]),s._v(" "),e("p",[s._v("①便于理解 ②如果要查询的字段有重名的情况，使用别名可以区分开来")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("使用"),e("strong",[s._v("as")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('SELECT 列名1 AS "列1别名",列名2 AS "列2别名" FROM 表名;\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("案例:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('SELECT 100%98 AS "结果";\nSELECT last_name AS "姓",first_name AS "名" FROM employees;\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("使用"),e("strong",[s._v("空格")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('SELECT 列名1 "列1别名",列名2 "列2别名" FROM 表名;\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("案例:")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('# 查询salary，显示结果为 out put\nSELECT salary AS "out put" FROM employees;\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"查询去重"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询去重"}},[s._v("#")]),s._v(" 查询去重")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select distinct 字段名 from 表名;\n# 案例：查询员工表中涉及到的所有的部门编号\nSELECT DISTINCT department_id FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"号的作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#号的作用"}},[s._v("#")]),s._v(" +号的作用")]),s._v(" "),e("p",[e("code",[s._v("java")]),s._v("中的+号： ①运算符，两个操作数都为数值型 ②连接符，只要有一个操作数为字符串")]),s._v(" "),e("p",[e("code",[s._v("mysql")]),s._v("中的+号： 仅仅只有一个功能：运算符")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 直接运算\nselect 数值+数值;\n\n# 先试图将字符转换成数值，如果转换成功，则继续运算；否则转换成0，再做运算\nselect 字符+数值;\n\n# 结果都为null\nselect null+值;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"concat函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#concat函数"}},[s._v("#")]),s._v(" concat函数")]),s._v(" "),e("p",[s._v("功能：拼接字符，相当于java中的 "),e("code",[s._v('"1"+"23"="123"')])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select concat(字符1，字符2，字符3,...);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"ifnull函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ifnull函数"}},[s._v("#")]),s._v(" IFNULL函数")]),s._v(" "),e("p",[s._v("功能：判断某字段或表达式是否为null，如果为null 返回指定的值，否则返回原本的值")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 如果commission_pct列为空则返回0\nselect ifnull(1,0) 返回1\nselect ifnull(null,0) 返回0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"isnull函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isnull函数"}},[s._v("#")]),s._v(" ISNULL函数")]),s._v(" "),e("p",[s._v("功能：判断某字段或表达式是否为null，如果是，则返回1，否则返回0")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select isnull(1) 返回0\nselect isnull(1/0) 返回1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"nullif函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nullif函数"}},[s._v("#")]),s._v(" NULLIF函数")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("NULLIF(expr1,expr2)  的用法： \n如果expr1 == expr2 则 NULL\n否则 为 expr1\nSELECT NULLIF(1,1) 返回NULL\nSELECT NULLIF（2,1） 返回 2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h2",{attrs:{id:"条件查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#条件查询"}},[s._v("#")]),s._v(" 条件查询")]),s._v(" "),e("p",[s._v("过滤：使用WHERE 子句，将不满足条件的行过滤掉。")]),s._v(" "),e("p",[s._v("语法：")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select 查询列表 from 表名 where 筛选条件;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("比较运算符")]),s._v(" "),e("th",[s._v(">、< 、>=、<=、= 、<>")]),s._v(" "),e("th",[s._v("大于、小于、大于等于、小于等于、等于、不等于")])])]),s._v(" "),e("tbody",[e("tr",[e("td"),s._v(" "),e("td",[s._v("BETWEEN ...AND...")]),s._v(" "),e("td",[s._v("显示在某一区间的值(含头含尾)")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("IN(set)")]),s._v(" "),e("td",[s._v("显示在in列表中的值，例：in(100,200)")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("LIKE 通配符")]),s._v(" "),e("td",[s._v("模糊查询，Like语句中有两个通配符：% 用来匹配多个字符；例first_name like ‘a%’；_ 用来匹配一个字符。例first_name like ‘a_’;")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("IS NULL")]),s._v(" "),e("td",[s._v("判断是否为空is null; 判断为空；is not null; 判断不为空")])]),s._v(" "),e("tr",[e("td",[s._v("逻辑运算符")]),s._v(" "),e("td",[s._v("and (&&)")]),s._v(" "),e("td",[s._v("多个条件同时成立")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("or (||)")]),s._v(" "),e("td",[s._v("多个条件任一成立")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("not (!)")]),s._v(" "),e("td",[s._v("不成立，例：where not(salary>100);")])])])]),s._v(" "),e("h3",{attrs:{id:"案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),e("h4",{attrs:{id:"按条件表达式筛选"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按条件表达式筛选"}},[s._v("#")]),s._v(" 按条件表达式筛选")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询工资>12000的员工信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT \n    *\nFROM\n    employees\nWHERE\n    salary>12000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询部门编号不等于90号的员工名和部门编号")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT \n    last_name,\n    department_id\nFROM\n    employees\nWHERE\n    department_id<>90;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"按逻辑表达式筛选"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按逻辑表达式筛选"}},[s._v("#")]),s._v(" 按逻辑表达式筛选")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询工资在10000到20000之间的员工名、工资以及奖金")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    salary,\n    commission_pct\nFROM\n    employees\nWHERE\n    salary>=10000 AND salary<=20000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("或者")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    salary,\n    commission_pct \nFROM\n    employees \nWHERE\n    salary BETWEEN 10000 \n    AND 20000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询部门编号不是在90到110之间，或者工资高于15000的员工信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    * \nFROM\n    employees \nWHERE\n    NOT ( department_id >= 90 AND department_id <= 110 ) \n    OR salary > 15000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("或者")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    * \nFROM\n    employees \nWHERE\n    NOT ( department_id BETWEEN 90 AND 110 ) \n    OR salary > 15000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"模糊查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#模糊查询"}},[s._v("#")]),s._v(" 模糊查询")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工名中包含字符a的员工信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select \n    *\nfrom\n    employees\nwhere\n    last_name like '%a%';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询员工名中第三个字符为e，第五个字符为a的员工名和工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select\n    last_name,\n    salary\nFROM\n    employees\nWHERE\n    last_name LIKE '__e_a%';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询员工名中第二个字符为_的员工名")]),s._v(" "),e("p",[s._v("ESCAPE：定义转义标识")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name\nFROM\n    employees\nWHERE\n    last_name LIKE '_$_%' ESCAPE '$';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"in"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#in"}},[s._v("#")]),s._v(" IN")]),s._v(" "),e("p",[s._v("含义：判断某字段的值是否属于in列表中的某一项 特点：")]),s._v(" "),e("ol",[e("li",[s._v("使用in提高语句简洁度")]),s._v(" "),e("li",[s._v("列表的值类型必须一致或兼容")]),s._v(" "),e("li",[s._v("列表中不支持通配符")])]),s._v(" "),e("p",[s._v("查询员工的工种编号是 IT_PROG、AD_VP、AD_PRES中的一个员工名和工种编号")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    job_id\nFROM\n    employees\nWHERE\n    job_id IN( 'IT_PROT' ,'AD_VP','AD_PRES');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("或者")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    job_id\nFROM\n    employees\nWHERE\n    job_id = 'IT_PROT' OR job_id = 'AD_VP' OR JOB_ID ='AD_PRES';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"is-null"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#is-null"}},[s._v("#")]),s._v(" IS NULL")]),s._v(" "),e("p",[e("strong",[s._v("=或<>不能用于判断null值")]),s._v(" is null或is not null 可以判断null值")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询没有奖金的员工名和奖金率")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    commission_pct\nFROM\n    employees\nWHERE\n    commission_pct IS NULL;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询有奖金的员工名和奖金率")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    commission_pct\nFROM\n    employees\nWHERE\n    commission_pct IS NOT NULL;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"安全等于"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安全等于"}},[s._v("#")]),s._v(" 安全等于 <=>")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询没有奖金的员工名和奖金率")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    commission_pct\nFROM\n    employees\nWHERE\n    commission_pct <=>NULL;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询工资为12000的员工信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    salary\nFROM\n    employees\n\nWHERE \n    salary <=> 12000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])]),s._v(" "),e("p",[s._v("IS NULL:仅仅可以判断NULL值，可读性较高，建议使用 <=> :既可以判断NULL值，又可以判断普通的数值，可读性较低")]),s._v(" "),e("p",[s._v("错误的写法：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    commission_pct\nFROM\n    employees\n\nWHERE \n    salary IS 12000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h2",{attrs:{id:"排序查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#排序查询"}},[s._v("#")]),s._v(" 排序查询")]),s._v(" "),e("p",[s._v("ORDER BY")]),s._v(" "),e("ul",[e("li",[s._v("使用 ORDER BY 子句排序\n"),e("ul",[e("li",[s._v("ASC（ascend）: 升序")]),s._v(" "),e("li",[s._v("DESC（descend）: 降序")])])])]),s._v(" "),e("h3",{attrs:{id:"语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select 查询列表\n\nfrom 表名\n\n【where  筛选条件】\n\norder by 排序的字段或表达式;\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/sortquery?id=%E7%89%B9%E7%82%B9"}},[s._v("特点")])]),s._v(" "),e("ol",[e("li",[s._v("asc代表的是升序，可以省略")]),s._v(" "),e("li",[s._v("order by子句可以支持 单个字段、别名、表达式、函数、多个字段")]),s._v(" "),e("li",[s._v("order by子句在查询语句的最后面，除了limit子句")])]),s._v(" "),e("h3",{attrs:{id:"案例-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-2"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),e("h4",{attrs:{id:"单个字段排序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单个字段排序"}},[s._v("#")]),s._v(" 单个字段排序")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工表按薪水降序")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT * FROM employees ORDER BY salary DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询部门编号>=90的员工信息，并按员工编号降序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT *\nFROM employees\nWHERE department_id>=90\nORDER BY employee_id DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"按表达式排序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按表达式排序"}},[s._v("#")]),s._v(" 按表达式排序")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工信息 按年薪降序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT *,salary*12*(1+IFNULL(commission_pct,0))\nFROM employees\nORDER BY salary*12*(1+IFNULL(commission_pct,0)) DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"按别名排序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按别名排序"}},[s._v("#")]),s._v(" 按别名排序")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工信息 按年薪升序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT *,salary*12*(1+IFNULL(commission_pct,0)) 年薪\nFROM employees\nORDER BY 年薪 ASC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"按函数排序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按函数排序"}},[s._v("#")]),s._v(" 按函数排序")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工名，并且按名字的长度降序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT LENGTH(last_name),last_name \nFROM employees\nORDER BY LENGTH(last_name) DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"多个字段排序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#多个字段排序"}},[s._v("#")]),s._v(" 多个字段排序")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工信息，要求先按工资降序，再按employee_id升序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT *\nFROM employees\nORDER BY salary DESC,employee_id ASC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"单行函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单行函数"}},[s._v("#")]),s._v(" 单行函数")]),s._v(" "),e("h3",{attrs:{id:"字符函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符函数"}},[s._v("#")]),s._v(" 字符函数")]),s._v(" "),e("h4",{attrs:{id:"length-s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#length-s"}},[s._v("#")]),s._v(" length(s)")]),s._v(" "),e("p",[s._v("获取参数值的字符个数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT LENGTH('john');\nSELECT LENGTH('张三丰hahaha');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"concat-s1-s2-sn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#concat-s1-s2-sn"}},[s._v("#")]),s._v(" CONCAT(s1,s2...sn)")]),s._v(" "),e("p",[s._v("拼接字符串")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT CONCAT(last_name,'_',first_name) 姓名 FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"upper-s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upper-s"}},[s._v("#")]),s._v(" UPPER(s)")]),s._v(" "),e("p",[s._v("将字符串转换为大写")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT UPPER('john');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"lower-s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lower-s"}},[s._v("#")]),s._v(" LOWER(s)")]),s._v(" "),e("p",[s._v("将字符串转换为小写")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT LOWER('joHn');\n# 示例：将姓变大写，名变小写，然后拼接\nSELECT CONCAT(UPPER(last_name),LOWER(first_name))  姓名 FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"substr-s-start-length-、substring"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#substr-s-start-length-、substring"}},[s._v("#")]),s._v(" SUBSTR(s, start, length)、SUBSTRING()")]),s._v(" "),e("p",[s._v("SUBSTR(s, start, length)：从字符串 s 的 start 位置截取长度为 length 的子字符串")]),s._v(" "),e("p",[s._v("截取字符串（注意：索引从1开始）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT SUBSTR('李莫愁爱上了陆展元',7)  out_put;\nSELECT SUBSTRING('李莫愁爱上了陆展元',7)  out_put;\nSELECT SUBSTR('李莫愁爱上了陆展元',1,3)  out_put;\n# 案例：姓名中首字符大写，其他字符小写然后用_拼接，显示出来\n\nSELECT CONCAT(UPPER(SUBSTR(last_name,1,1)),'_',LOWER(SUBSTR(last_name,2)))  out_put\nFROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"instr-s-s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#instr-s-s"}},[s._v("#")]),s._v(" INSTR(s,s)")]),s._v(" "),e("p",[s._v("返回子串第一次出现的索引，如果找不到返回0")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT INSTR('杨不殷六侠悔爱上了殷六侠','殷八侠') AS out_put;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"trim-s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#trim-s"}},[s._v("#")]),s._v(" TRIM(s)")]),s._v(" "),e("p",[s._v("LTRIM(s)：去掉字符串 s "),e("strong",[s._v("开始")]),s._v("处的空格")]),s._v(" "),e("p",[s._v("RTRIM(s)：去掉字符串 s "),e("strong",[s._v("结尾")]),s._v("处的空格")]),s._v(" "),e("p",[s._v("去掉字符串开始和结尾处的空格")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT LENGTH(TRIM('    张翠山    ')) AS out_put;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"lpad-s1-len-s2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lpad-s1-len-s2"}},[s._v("#")]),s._v(" LPAD(s1,len,s2)")]),s._v(" "),e("p",[s._v("在字符串 s1 的"),e("code",[s._v("开始")]),s._v("处填充字符串 s2，使字符串长度达到 len")]),s._v(" "),e("p",[s._v("如果长度小于原字符串，则只取前len个字符")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT LPAD('殷素素',5,'*') AS out_put;    --\x3e **殷素素\nSELECT LPAD('殷素素',2,'*') AS out_put;    --\x3e 殷素\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"rpad-s1-len-s2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rpad-s1-len-s2"}},[s._v("#")]),s._v(" RPAD(s1,len,s2)")]),s._v(" "),e("p",[s._v("在字符串 s1 的"),e("code",[s._v("结尾")]),s._v("处添加字符串 s2，使字符串的长度达到 len")]),s._v(" "),e("p",[s._v("如果长度小于原字符串，则只取前len个字符")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT RPAD('殷素素',5,'*') AS out_put;    --\x3e 殷素素**\nSELECT RPAD('殷素素',2,'*') AS out_put;    --\x3e 殷素\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"replace-s-s1-s2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#replace-s-s1-s2"}},[s._v("#")]),s._v(" REPLACE(s,s1,s2)")]),s._v(" "),e("p",[s._v("用字符串 s2 替代字符串 s 中的字符串 s1")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT REPLACE('张无忌爱上了周芷若','周芷若','赵敏') AS out_put;    --\x3e张无忌爱上了赵敏\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"数学函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数学函数"}},[s._v("#")]),s._v(" 数学函数")]),s._v(" "),e("h4",{attrs:{id:"round-x"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#round-x"}},[s._v("#")]),s._v(" ROUND(x)")]),s._v(" "),e("p",[s._v("ROUND(x,d)：保留d位小数")]),s._v(" "),e("p",[s._v("四舍五入")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT ROUND(-1.55);    --\x3e -2\nSELECT ROUND(1.567,2);    --\x3e 1.57\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"ceil-x"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ceil-x"}},[s._v("#")]),s._v(" CEIL(x)")]),s._v(" "),e("p",[s._v("向上取整")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT CEIL(-1.02);    --\x3e -1\nSELECT CEIL(1.02);    --\x3e 2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"floor-x"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#floor-x"}},[s._v("#")]),s._v(" FLOOR(x)")]),s._v(" "),e("p",[s._v("向下取整")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT FLOOR(-1.58);    --\x3e -2\nSELECT FLOOR(1.58);    --\x3e 1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"truncate-x-y"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#truncate-x-y"}},[s._v("#")]),s._v(" TRUNCATE(x,y)")]),s._v(" "),e("p",[s._v("返回数值 x 保留到小数点后 y 位的值（与 ROUND 最大的区别是"),e("code",[s._v("不会")]),s._v("进行四舍五入）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT TRUNCATE(1.567,2);    --\x3e 1.56\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"mod-x-y"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mod-x-y"}},[s._v("#")]),s._v(" MOD(x,y)")]),s._v(" "),e("p",[s._v("返回 x 除以 y 以后的余数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MOD(10,-3);    --\x3e 1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("等价于")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT 10%-3;    --\x3e 1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("余数的符号取决于被除数的符号")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MOD(-10,3);    --\x3e -1\nSELECT MOD(-10,-3);    --\x3e -1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"日期函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日期函数"}},[s._v("#")]),s._v(" 日期函数")]),s._v(" "),e("h4",{attrs:{id:"now"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#now"}},[s._v("#")]),s._v(" NOW()")]),s._v(" "),e("p",[s._v("返回当前系统时间(注：日期+时间)")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT NOW();    --\x3e 2019-10-05 09:56:57\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"curdate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#curdate"}},[s._v("#")]),s._v(" CURDATE()")]),s._v(" "),e("p",[s._v("返回当前系统日期，不包含时间")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT CURDATE();    --\x3e 2019-10-05\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"curtime"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#curtime"}},[s._v("#")]),s._v(" CURTIME()")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT CURTIME();    --\x3e09:56:57\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"year-d"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#year-d"}},[s._v("#")]),s._v(" YEAR(d)")]),s._v(" "),e("p",[s._v("返回年份")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT YEAR(NOW());    --\x3e2019\nSELECT YEAR('1998-1-1');    --\x3e1998\nSELECT  YEAR(hiredate) 入职时间 FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"month-d"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#month-d"}},[s._v("#")]),s._v(" MONTH(d)")]),s._v(" "),e("p",[s._v("返回日期d中的月份值，1 到 12")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MONTH(NOW());    --\x3e 10\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"monthname-d"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#monthname-d"}},[s._v("#")]),s._v(" MONTHNAME(d)")]),s._v(" "),e("p",[s._v("返回日期当中的月份名称，如 November")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MONTHNAME(NOW());    --\x3e October\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"str-to-date-s-f"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#str-to-date-s-f"}},[s._v("#")]),s._v(" STR_TO_DATE(s, f)")]),s._v(" "),e("p",[s._v("将字符通过指定的格式转换成日期")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT STR_TO_DATE('1998-3-2','%Y-%c-%d') AS out_put;    --\x3e 1998-03-02\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查询入职日期为1992-4-3的员工信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT * FROM employees WHERE hiredate = '1992-4-3';\n\n# 或者\n\nSELECT * FROM employees WHERE hiredate = STR_TO_DATE('4-3 1992','%c-%d %Y');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"date-format-d-f"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#date-format-d-f"}},[s._v("#")]),s._v(" DATE_FORMAT(d,f)")]),s._v(" "),e("p",[s._v("将日期通过指定的格式转换成字符")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT DATE_FORMAT(NOW(),'%Y年%m月%d日') AS out_put;    --\x3e 2019年10月05日\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查询有奖金的员工名和入职日期(xx月/xx日 xx年)")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT last_name,DATE_FORMAT(hiredate,'%m月/%d日 %y年') 入职日期\nFROM employees\nWHERE commission_pct IS NOT NULL;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"其他函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他函数"}},[s._v("#")]),s._v(" 其他函数")]),s._v(" "),e("h4",{attrs:{id:"version"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[s._v("#")]),s._v(" VERSION()")]),s._v(" "),e("p",[s._v("返回数据库的版本号")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT VERSION();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"database"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#database"}},[s._v("#")]),s._v(" DATABASE()")]),s._v(" "),e("p",[s._v("返回当前数据库名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT DATABASE();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"user"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#user"}},[s._v("#")]),s._v(" USER()")]),s._v(" "),e("p",[s._v("返回当前用户")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT USER();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"流程控制函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流程控制函数"}},[s._v("#")]),s._v(" 流程控制函数")]),s._v(" "),e("h4",{attrs:{id:"if-expr-v1-v2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#if-expr-v1-v2"}},[s._v("#")]),s._v(" IF(expr,v1,v2)")]),s._v(" "),e("p",[s._v("如果表达式 expr 成立，返回结果 v1；否则，返回结果 v2。")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT IF(1 > 0,'正确','错误');    --\x3e 正确\nSELECT\n    last_name,\n    commission_pct,\nIF\n    ( commission_pct IS NULL, '没奖金，呵呵', '有奖金，嘻嘻' ) 备注 \nFROM\n    employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h4",{attrs:{id:"case"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#case"}},[s._v("#")]),s._v(" CASE")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CASE expression\n    WHEN condition1 THEN result1\n    WHEN condition2 THEN result2\n   ...\n    WHEN conditionN THEN resultN\n    ELSE result\nEND\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("CASE 表示函数开始，END 表示函数结束。如果 condition1 成立，则返回 result1, 如果 condition2 成立，则返回 result2，当全部不成立则返回 result，而当有一个成立之后，后面的就不执行了。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("case 要判断的字段或表达式\nwhen 常量1 then 要显示的值1或语句1;\nwhen 常量2 then 要显示的值2或语句2;\n...\nelse 要显示的值n或语句n;\nend\nSELECT CASE \n　　WHEN 1 > 0\n　　THEN '1 > 0'\n　　WHEN 2 > 0\n　　THEN '2 > 0'\n　　ELSE '3 > 0'\n　　END\n　　\n--\x3e 1 > 0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[s._v("查询员工的工资，要求")]),s._v(" "),e("ol",[e("li",[s._v("部门号=30，显示的工资为1.1倍")]),s._v(" "),e("li",[s._v("部门号=40，显示的工资为1.2倍")]),s._v(" "),e("li",[s._v("部门号=50，显示的工资为1.3倍")]),s._v(" "),e("li",[s._v("其他部门，显示的工资为原工资")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT salary 原始工资,department_id,\nCASE department_id\nWHEN 30 THEN salary*1.1\nWHEN 40 THEN salary*1.2\nWHEN 50 THEN salary*1.3\nELSE salary\nEND AS 新工资\nFROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("查询员工的工资的情况")]),s._v(" "),e("ol",[e("li",[s._v("如果工资>20000,显示A级别")]),s._v(" "),e("li",[s._v("如果工资>15000,显示B级别")]),s._v(" "),e("li",[s._v("如果工资>10000，显示C级别")]),s._v(" "),e("li",[s._v("否则，显示D级别")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT salary,\nCASE \nWHEN salary>20000 THEN 'A'\nWHEN salary>15000 THEN 'B'\nWHEN salary>10000 THEN 'C'\nELSE 'D'\nEND AS 工资级别\nFROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h2",{attrs:{id:"分组函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分组函数"}},[s._v("#")]),s._v(" 分组函数")]),s._v(" "),e("p",[s._v("用作统计使用，又称为聚合函数或统计函数或组函数")]),s._v(" "),e("h3",{attrs:{id:"sum-expression"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sum-expression"}},[s._v("#")]),s._v(" SUM(expression)")]),s._v(" "),e("p",[s._v("求和")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT SUM(salary) FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"avg-expression"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#avg-expression"}},[s._v("#")]),s._v(" AVG(expression)")]),s._v(" "),e("p",[s._v("平均值")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT AVG(salary) FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"max-expression"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#max-expression"}},[s._v("#")]),s._v(" MAX(expression)")]),s._v(" "),e("p",[s._v("最大值")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MAX(salary) FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"min-expression"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#min-expression"}},[s._v("#")]),s._v(" MIN(expression)")]),s._v(" "),e("p",[s._v("最小值")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MIN(salary) FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"count-expression"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#count-expression"}},[s._v("#")]),s._v(" COUNT(expression)")]),s._v(" "),e("p",[s._v("计算个数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT COUNT(salary) FROM employees;\nSELECT COUNT(*) FROM employees;\nSELECT COUNT(1) FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("效率： "),e("code",[s._v("MYISAM")]),s._v("存储引擎下 ，COUNT("),e("em",[s._v(")的效率高 "),e("code",[s._v("INNODB")]),s._v("存储引擎下，COUNT(")]),s._v(")和COUNT(1)的效率差不多，比COUNT(字段)要高一些")]),s._v(" "),e("hr"),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    SUM( salary ) 和,\n    AVG( salary ) 平均,\n    MAX( salary ) 最高,\n    MIN( salary ) 最低,\n    COUNT( salary ) 个数 \nFROM\n    employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("平均工资保留两位小数(四舍五入)")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    SUM( salary ) 和,\n    ROUND( AVG( salary ), 2 ) 平均,\n    MAX( salary ) 最高,\n    MIN( salary ) 最低,\n    COUNT( salary ) 个数 \nFROM\n    employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"参数支持哪些类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数支持哪些类型"}},[s._v("#")]),s._v(" 参数支持哪些类型")]),s._v(" "),e("h4",{attrs:{id:"字符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符"}},[s._v("#")]),s._v(" 字符")]),s._v(" "),e("p",[s._v("先试图将字符转换成数值，如果转换成功，则继续运算；否则转换成0，再做运算")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    SUM( last_name ),\n    AVG( last_name ) \nFROM\n    employees;\n\n--\x3e 0,0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("与排序差不多")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    MAX( last_name ),\n    MIN( last_name ) \nFROM\n    employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"日期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日期"}},[s._v("#")]),s._v(" 日期")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT SUM(hiredate) ,AVG(hiredate) FROM employees;\nSELECT MAX(hiredate),MIN(hiredate) FROM employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"特点-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-2"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),e("ol",[e("li",[s._v("sum、avg一般用于处理数值型")]),s._v(" "),e("li",[s._v("max、min、count可以处理任何类型")]),s._v(" "),e("li",[s._v("以上分组函数都忽略null值")]),s._v(" "),e("li",[s._v("可以和distinct搭配实现去重的运算")]),s._v(" "),e("li",[s._v("一般使用count(*)用作统计行数")]),s._v(" "),e("li",[s._v("和分组函数一同查询的字段要求是group by后的字段")])]),s._v(" "),e("h3",{attrs:{id:"案例-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-3"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工表中的最大入职时间和最小入职时间的相差天数 （DIFFRENCE）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    MAX( hiredate ) 最大,\n    MIN( hiredate ) 最小,\n    (MAX( hiredate )- MIN( hiredate ))/ 1000 / 3600 / 24 DIFFRENCE \nFROM\n    employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("使用DATEDIFF(d1,d2)函数，计算日期 d1～d2 之间相隔的天数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT DATEDIFF(MAX(hiredate),MIN(hiredate)) DIFFRENCE;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询部门编号为90的员工个数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    COUNT(*) \nFROM\n    employees \nWHERE\n    department_id = 90;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"分组查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分组查询"}},[s._v("#")]),s._v(" 分组查询")]),s._v(" "),e("h3",{attrs:{id:"语法-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-2"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select 分组函数，分组后的字段\nfrom 表\n【where 筛选条件】\n group by 分组的字段\n【having 分组后的筛选】\n【order by 排序列表】\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"特点-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-3"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),e("ol",[e("li",[s._v("和分组函数一同查询的字段"),e("code",[s._v("必须")]),s._v("是group by后出现的字段")]),s._v(" "),e("li",[s._v("筛选分为两类：分组前筛选和分组后筛选")])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("筛选")]),s._v(" "),e("th",[s._v("针对的表")]),s._v(" "),e("th",[s._v("连接的关键字")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("分组前筛选")]),s._v(" "),e("td",[s._v("原始表")]),s._v(" "),e("td",[s._v("where")])]),s._v(" "),e("tr",[e("td",[s._v("分组后筛选")]),s._v(" "),e("td",[s._v("group by后的结果集")]),s._v(" "),e("td",[s._v("having")])])])]),s._v(" "),e("h3",{attrs:{id:"问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("分组函数做筛选能不能放在where后面")]),s._v(" "),e("p",[s._v("不能，原表中没有分组后的数据")])])]),s._v(" "),e("h3",{attrs:{id:"案例-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-4"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),e("h4",{attrs:{id:"简单的分组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简单的分组"}},[s._v("#")]),s._v(" 简单的分组")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询每个工种的员工平均工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT AVG(salary),job_id\nFROM employees\nGROUP BY job_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询每个位置的部门个数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT COUNT(*),location_id\nFROM departments\nGROUP BY location_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"分组前筛选"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分组前筛选"}},[s._v("#")]),s._v(" 分组前筛选")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询邮箱中包含a字符的 每个部门的最高工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MAX(salary),department_id\nFROM employees\nWHERE email LIKE '%a%'\nGROUP BY department_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询有奖金的每个领导手下员工的平均工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    AVG( salary ),\n    manager_id \nFROM\n    employees \nWHERE\n    commission_pct IS NOT NULL \nGROUP BY\n    manager_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"分组后筛选"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分组后筛选"}},[s._v("#")]),s._v(" 分组后筛选")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询哪个部门的员工个数>5")]),s._v(" "),e("p",[s._v("① 首先查询每个部门的员工个数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT COUNT(*),department_id\nFROM employees\nGROUP BY department_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("② 筛选刚才①结果")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT COUNT(*),department_id\nFROM employees\n\nGROUP BY department_id\n\nHAVING COUNT(*)>5;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("每个工种有奖金的员工的最高工资>12000的工种编号和最高工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    MAX( salary ) 最高工资,\n    job_id 工种编号 \nFROM\n    employees \nWHERE\n    commission_pct IS NOT NULL \nGROUP BY\n    job_id \nHAVING\n    MAX( salary )> 12000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("领导编号>102的每个领导手下的最低工资大于5000的领导编号和最低工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    manager_id 领导编号,\n    MIN( salary ) 最低工资 \nFROM\n    employees \nWHERE\n    manager_id > 102 \nGROUP BY\n    manager_id \nHAVING\n    MIN( salary )> 5000\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"添加排序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加排序"}},[s._v("#")]),s._v(" 添加排序")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("每个工种有奖金的员工的最高工资>6000的工种编号和最高工资,按最高工资升序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    job_id 工种编号,\n    MAX( salary ) 最高工资 \nFROM\n    employees \nWHERE\n    commission_pct IS NOT NULL \nGROUP BY\n    job_id \nHAVING\n    MAX( salary )> 6000 \nORDER BY\n    MAX( salary );\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"按多个字段分组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按多个字段分组"}},[s._v("#")]),s._v(" 按多个字段分组")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询每个工种每个部门的最低工资,并按最低工资降序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    MIN( salary ) 最低工资,\n    department_id 部门,\n    job_id 工种 \nFROM\n    employees \nGROUP BY\n    department_id,\n    job_id \nORDER BY\n    MIN( salary ) DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"连接查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连接查询"}},[s._v("#")]),s._v(" 连接查询")]),s._v(" "),e("h3",{attrs:{id:"含义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#含义"}},[s._v("#")]),s._v(" 含义")]),s._v(" "),e("p",[s._v("又称多表查询，当查询的字段来自于多个表时，就会用到连接查询")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select 字段1，字段2\n\nfrom 表1，表2,...;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"笛卡尔乘积现象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#笛卡尔乘积现象"}},[s._v("#")]),s._v(" 笛卡尔乘积现象")]),s._v(" "),e("p",[s._v("当查询多个表时，没有添加有效的连接条件，导致多个表所有行实现完全连接")]),s._v(" "),e("p",[s._v("表1 有m行，表2有n行，结果=m*n行")]),s._v(" "),e("p",[s._v("发生原因：没有有效的连接条件 如何避免：添加有效的连接条件")]),s._v(" "),e("h3",{attrs:{id:"分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分类"}},[s._v("#")]),s._v(" 分类")]),s._v(" "),e("p",[s._v("按年代分类： sql92标准:仅仅支持内连接 sql99标准【推荐】：支持内连接+外连接（左外和右外）+交叉连接")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("按功能分类：\n    内连接：\n        等值连接\n        非等值连接\n        自连接\n    外连接：\n        左外连接\n        右外连接\n        全外连接（mysql不支持）\n\n    交叉连接\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"等值连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#等值连接"}},[s._v("#")]),s._v(" 等值连接")]),s._v(" "),e("ol",[e("li",[s._v("多表等值连接的结果为多表的交集部分")]),s._v(" "),e("li",[s._v("n表连接，至少需要n-1个连接条件")]),s._v(" "),e("li",[s._v("表的顺序没有要求")]),s._v(" "),e("li",[s._v("一般需要为表起别名")]),s._v(" "),e("li",[s._v("可以搭配前面介绍的所有子句使用，比如排序、分组、筛选")])]),s._v(" "),e("h4",{attrs:{id:"案例1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例1"}},[s._v("#")]),s._v(" 案例1")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询女神名和对应的男神名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT NAME,boyName \nFROM\n    boys,\n    beauty \nWHERE\n    beauty.boyfriend_id = boys.id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询员工名和对应的部门名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    department_name \nFROM\n    employees,\n    departments \nWHERE\n    employees.`department_id` = departments.`department_id`;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"为表起别名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为表起别名"}},[s._v("#")]),s._v(" 为表起别名")]),s._v(" "),e("ol",[e("li",[s._v("提高语句的简洁度")]),s._v(" "),e("li",[s._v("区分多个重名的字段")])]),s._v(" "),e("p",[e("code",[s._v("注意")]),s._v("：如果为表起了别名，则查询的字段就不能使用原来的表名去限定")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工名、工种号、工种名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.last_name,\n    e.job_id,\n    j.job_title \nFROM\n    employees e,\n    jobs j \nWHERE\n    e.`job_id` = j.`job_id`;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"加筛选条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加筛选条件"}},[s._v("#")]),s._v(" 加筛选条件")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询有奖金的员工名、部门名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    department_name,\n    commission_pct \nFROM\n    employees e,\n    departments d \nWHERE\n    e.`department_id` = d.`department_id` \n    AND e.`commission_pct` IS NOT NULL;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询城市名中第二个字符为o的部门名和城市名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    department_name,\n    city \nFROM\n    departments d,\n    locations l \nWHERE\n    d.`location_id` = l.`location_id` \n    AND city LIKE '_o%';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"加分组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加分组"}},[s._v("#")]),s._v(" 加分组")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询每个城市的部门个数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    COUNT(*) 个数,\n    city \nFROM\n    departments d,\n    locations l \nWHERE\n    d.`location_id` = l.`location_id` \nGROUP BY\n    city;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询有奖金的每个部门的部门名和部门的领导编号和该部门的最低工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    department_name,\n    d.`manager_id`,\n    MIN( salary ) \nFROM\n    departments d,\n    employees e \nWHERE\n    d.`department_id` = e.`department_id` \n    AND commission_pct IS NOT NULL \nGROUP BY\n    department_name,\n    d.`manager_id`;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询每个工种的工种名和员工的个数，并且按员工个数降序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    job_title,\n    COUNT(*) \nFROM\n    employees e,\n    jobs j \nWHERE\n    e.`job_id` = j.`job_id` \nGROUP BY\n    job_title \nORDER BY\n    COUNT(*) DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询员工名、部门名和所在的城市，并且城市名以s开头，按部门名称降序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.last_name 员工名,\n    d.department_name 部门名,\n    l.city 城市 \nFROM\n    employees e,\n    departments d,\n    locations l \nWHERE\n    e.department_id = d.department_id \n    AND d.location_id = l.location_id \n    AND city LIKE 's%' \nORDER BY\n    department_name DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"非等值连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#非等值连接"}},[s._v("#")]),s._v(" 非等值连接")]),s._v(" "),e("h4",{attrs:{id:"语法-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-3"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("       select 查询列表\n       from 表1 别名,表2 别名\n       where 非等值的连接条件\n       【and 筛选条件】\n       【group by 分组字段】\n       【having 分组后的筛选】\n       【order by 排序字段】\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"案例2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例2"}},[s._v("#")]),s._v(" 案例2")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工的工资和工资级别")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.salary 工资,\n    j.grade_level 工资级别 \nFROM\n    employees e,\n    job_grades j \nWHERE\n    e.salary BETWEEN j.lowest_sal \n    AND j.highest_sal;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询员工的工资和工资级别并筛选出级别为A的")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.salary 工资,\n    j.grade_level 工资级别 \nFROM\n    employees e,\n    job_grades j \nWHERE\n    e.salary BETWEEN j.lowest_sal \n    AND j.highest_sal \n    AND j.grade_level = 'A';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"自连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自连接"}},[s._v("#")]),s._v(" 自连接")]),s._v(" "),e("h4",{attrs:{id:"语法-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-4"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    select 查询列表\n    from 表 别名1,表 别名2\n    where 等值的连接条件\n    【and 筛选条件】\n    【group by 分组字段】\n    【having 分组后的筛选】\n    【order by 排序字段】\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ol",[e("li",[e("p",[s._v("查询员工名和上级的名称")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.last_name 员工名,\n    m.last_name 上级名称 \nFROM\n    employees e,\n    employees m \nWHERE\n    e.manager_id = m.employee_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"sql99语法-内连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql99语法-内连接"}},[s._v("#")]),s._v(" SQL99语法-内连接")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select 查询列表\nfrom 表1 别名\n【inner】 join 表2 别名 on 连接条件\nwhere 筛选条件\ngroup by 分组列表\nhaving 分组后的筛选\norder by 排序列表\nlimit 子句;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h4",{attrs:{id:"特点-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-4"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),e("ol",[e("li",[s._v("表的顺序可以调换")]),s._v(" "),e("li",[s._v("内连接的结果=多表的交集")]),s._v(" "),e("li",[s._v("n表连接至少需要n-1个连接条件")]),s._v(" "),e("li",[s._v("添加排序、分组、筛选")]),s._v(" "),e("li",[s._v("inner可以省略")]),s._v(" "),e("li",[s._v("筛选条件放在where后面，连接条件放在on后面，提高分离性，便于阅读")]),s._v(" "),e("li",[s._v("inner join连接和sql92语法中的等值连接效果是一样的，都是查询多表的交集")])]),s._v(" "),e("h4",{attrs:{id:"分类-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分类-2"}},[s._v("#")]),s._v(" 分类")]),s._v(" "),e("ul",[e("li",[s._v("等值连接")]),s._v(" "),e("li",[s._v("非等值连接")]),s._v(" "),e("li",[s._v("自连接")])]),s._v(" "),e("h4",{attrs:{id:"内连接-等值连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内连接-等值连接"}},[s._v("#")]),s._v(" 内连接-等值连接")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工名、部门名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    department_name \nFROM\n    departments d\n    INNER JOIN employees e ON e.`department_id` = d.`department_id`;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询名字中包含e的员工名和工种名（添加筛选）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    last_name,\n    job_title \nFROM\n    employees e\n    JOIN jobs j ON e.`job_id` = j.`job_id` \nWHERE\n    e.`last_name` LIKE '%e%';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询部门个数>3的城市名和部门个数，（添加分组+筛选）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    COUNT( department_id ) 部门个数,\n    city 城市名 \nFROM\n    departments d\n    JOIN locations l ON d.location_id = l.location_id \nGROUP BY\n    l.city \nHAVING\n    COUNT( department_id )> 3;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询哪个部门的员工个数>3的部门名和员工个数，并按个数降序（添加排序）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    COUNT(*) 员工个数,\n    d.department_name 部门名称 \nFROM\n    departments d\n    JOIN employees e ON d.department_id = e.department_id \nGROUP BY\n    d.department_id \nHAVING\n    COUNT(\n    *)> 3 \nORDER BY\n    1 DESC\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询员工名、部门名、工种名，并按部门名降序（添加三表连接）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.last_name 员工名,\n    d.department_name 部门号,\n    j.job_title 工种名 \nFROM\n    employees e\n    JOIN departments d ON e.department_id = d.department_id\n    JOIN jobs j ON e.job_id = j.job_id \nORDER BY\n    d.department_name DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"内连接-非等值连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内连接-非等值连接"}},[s._v("#")]),s._v(" 内连接-非等值连接")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工的工资级别")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.last_name 员工名,\n    e.salary 薪水,\n    j.grade_level 工资级别 \nFROM\n    employees e\n    JOIN job_grades j ON e.salary BETWEEN j.lowest_sal \n    AND j.highest_sal;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询工资级别的个数>20的个数，并且按工资级别降序")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    j.grade_level 工资级别,\n    COUNT( * ) 个数 \nFROM\n    employees e\n    JOIN job_grades j ON e.salary BETWEEN j.lowest_sal \n    AND j.highest_sal \nGROUP BY\n    j.grade_level \nHAVING\n    COUNT( * ) > 20 \nORDER BY\n    2 DESC;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"内连接-自连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内连接-自连接"}},[s._v("#")]),s._v(" 内连接-自连接")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工的名字、上级的名字")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.last_name 员工名,\n    m.last_name 上级名 \nFROM\n    employees e\n    JOIN employees m ON e.manager_id = m.employee_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询姓名中包含字符k的员工的名字、上级的名字")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    e.last_name 员工名,\n    m.last_name 上级名 \nFROM\n    employees e\n    JOIN employees m ON e.manager_id = m.employee_id \nWHERE\n    e.last_name LIKE '%k%'\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"sql99语法-外连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql99语法-外连接"}},[s._v("#")]),s._v(" SQL99语法-外连接")]),s._v(" "),e("h4",{attrs:{id:"语法-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-5"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select 查询列表\nfrom 表1 别名\nleft|right|full【outer】 join 表2 别名 on 连接条件\nwhere 筛选条件\ngroup by 分组列表\nhaving 分组后的筛选\norder by 排序列表\nlimit 子句;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h4",{attrs:{id:"应用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[s._v("#")]),s._v(" 应用场景")]),s._v(" "),e("p",[s._v("用于查询一个表中有，另一个表没有的记录")]),s._v(" "),e("h4",{attrs:{id:"特点-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-5"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("外连接的查询结果为主表中的所有记录")]),s._v(" "),e("p",[s._v("如果从表中有和它匹配的，则显示匹配的值")]),s._v(" "),e("p",[s._v("如果从表中没有和它匹配的，则显示null")]),s._v(" "),e("p",[s._v("外连接查询结果=内连接结果+主表中有而从表没有的记录")])]),s._v(" "),e("li",[e("p",[s._v("左外连接，"),e("code",[s._v("left join")]),s._v(" 左边的是主表")])]),s._v(" "),e("li",[e("p",[s._v("右外连接，"),e("code",[s._v("right join")]),s._v(" 右边的是主表")])]),s._v(" "),e("li",[e("p",[s._v("左外和右外交换两个表的顺序，可以实现同样的效果")])]),s._v(" "),e("li",[e("p",[s._v("全外连接=内连接的结果+表1中有但表2没有的+表2中有但表1没有的")])])]),s._v(" "),e("h4",{attrs:{id:"左外连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#左外连接"}},[s._v("#")]),s._v(" 左外连接")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询哪个部门没有员工")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    d.* \nFROM\n    departments d\n    LEFT JOIN employees e ON d.department_id = e.department_id \nWHERE\n    e.department_id IS NULL\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"右外连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#右外连接"}},[s._v("#")]),s._v(" 右外连接")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询哪个部门没有员工(调换位置使用RIGHT JOIN)")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    d.* \nFROM\n    employees e\n    RIGHT JOIN departments d ON d.department_id = e.department_id \nWHERE\n    e.department_id IS NULL\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"全外连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#全外连接"}},[s._v("#")]),s._v(" 全外连接")]),s._v(" "),e("p",[s._v("mysql不支持全外连接")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" USE girls;\n SELECT b.*,bo.*\n FROM beauty b\n FULL OUTER JOIN boys bo\n ON b.`boyfriend_id` = bo.id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("同样boys表有的beauty没有的也是显示null")]),s._v(" "),e("h4",{attrs:{id:"交叉连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交叉连接"}},[s._v("#")]),s._v(" 交叉连接")]),s._v(" "),e("p",[s._v("交叉联接返回左表中的所有行，左表中的每一行与右表中的所有行组合。交叉联接也称作笛卡尔积。")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" SELECT b.*,bo.*\n FROM beauty b\n CROSS JOIN boys bo;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"子查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#子查询"}},[s._v("#")]),s._v(" 子查询")]),s._v(" "),e("h3",{attrs:{id:"含义-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#含义-2"}},[s._v("#")]),s._v(" 含义")]),s._v(" "),e("p",[s._v("嵌套在其他语句内部的select语句称为子查询或内查询， 外面的语句可以是insert、update、delete、select等，一般select作为外面语句较多 外面如果为select语句，则此语句称为外查询或主查询")]),s._v(" "),e("h3",{attrs:{id:"分类-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分类-3"}},[s._v("#")]),s._v(" 分类")]),s._v(" "),e("h4",{attrs:{id:"按出现位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按出现位置"}},[s._v("#")]),s._v(" 按出现位置")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select后面：\n        仅仅支持标量子查询\nfrom后面：\n        表子查询\nwhere或having后面：\n        标量子查询\n        列子查询\n        行子查询\nexists后面：\n        标量子查询\n        列子查询\n        行子查询\n        表子查询\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h4",{attrs:{id:"按结果集的行列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按结果集的行列"}},[s._v("#")]),s._v(" 按结果集的行列")]),s._v(" "),e("p",[s._v("标量子查询（单行子查询）：结果集为一行一列 列子查询（多行子查询）：结果集为多行一列 行子查询：结果集为多行多列 表子查询：结果集为多行多列")]),s._v(" "),e("h3",{attrs:{id:"示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),e("h4",{attrs:{id:"where或having后面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#where或having后面"}},[s._v("#")]),s._v(" where或having后面")]),s._v(" "),e("ol",[e("li",[s._v("标量子查询（单行单列）")]),s._v(" "),e("li",[s._v("列子查询（多行单列）")]),s._v(" "),e("li",[s._v("行子查询（多行多列）")])]),s._v(" "),e("h5",{attrs:{id:"特点-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-6"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),e("p",[s._v("① 子查询放在小括号内\n② 子查询一般放在条件的右侧\n③ 标量子查询，一般搭配着单行操作符使用")]),s._v(" "),e("blockquote",[e("p",[s._v("<、>、<=、>=、=、<>")])]),s._v(" "),e("p",[s._v("④ 列子查询，一般搭配着多行操作符使用")]),s._v(" "),e("blockquote",[e("p",[s._v("in、any/some、all")])]),s._v(" "),e("p",[s._v("⑤ 子查询的执行优先于主查询执行，主查询的条件用到了子查询的结果")]),s._v(" "),e("h5",{attrs:{id:"标量子查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#标量子查询"}},[s._v("#")]),s._v(" 标量子查询")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("谁的工资比 Abel 高?")]),s._v(" "),e("p",[s._v("① 查询Abel的工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT salary\nFROM employees\nWHERE last_name = 'Abel'\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("②查询员工的信息，满足 salary>①结果")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT *\nFROM employees\nWHERE salary>(\n\n    SELECT salary\n    FROM employees\n    WHERE last_name = 'Abel'\n\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("返回job_id与141号员工相同，salary比143号员工多的员工 姓名，job_id 和工资")]),s._v(" "),e("p",[s._v("① 查询141号员工的job_id")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT job_id\nFROM employees\nWHERE employee_id = 141\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("② 查询143号员工的salary")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT salary\nFROM employees\nWHERE employee_id = 143\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("③ 查询员工的姓名，job_id 和工资，要求job_id=①并且salary>②")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT last_name,job_id,salary\nFROM employees\nWHERE job_id = (\n    SELECT job_id\n    FROM employees\n    WHERE employee_id = 141\n) AND salary>(\n    SELECT salary\n    FROM employees\n    WHERE employee_id = 143\n\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("返回公司工资最少的员工的last_name,job_id和salary")]),s._v(" "),e("p",[s._v("① 查询公司的 最低工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MIN(salary)\nFROM employees\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("② 查询last_name,job_id和salary，要求salary=①")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT last_name,job_id,salary\nFROM employees\nWHERE salary=(\n    SELECT MIN(salary)\n    FROM employees\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询最低工资大于50号部门最低工资的部门id和其最低工资")]),s._v(" "),e("p",[s._v("① 查询50号部门的最低工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT  MIN(salary)\nFROM employees\nWHERE department_id = 50\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("② 查询每个部门的最低工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MIN(salary),department_id\nFROM employees\nGROUP BY department_id\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("③ 在②基础上筛选，满足min(salary)>①")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT MIN(salary),department_id\nFROM employees\nGROUP BY department_id\nHAVING MIN(salary)>(\n    SELECT  MIN(salary)\n    FROM employees\n    WHERE department_id = 50\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("非法使用标量子查询")]),s._v(" "),e("p",[e("code",[s._v("SELECT MIN(salary),department_id FROM employees GROUP BY department_id HAVING MIN(salary)>( SELECT salary FROM employees WHERE department_id = 250 );")])]),s._v(" "),e("p",[s._v("这里250号部门的员工可能不止一个人，查询的是多行单列，就是列子查询了")])])]),s._v(" "),e("h5",{attrs:{id:"列子查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#列子查询"}},[s._v("#")]),s._v(" 列子查询")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("操作符")]),s._v(" "),e("th",[s._v("含义")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("IN/NOT IN")]),s._v(" "),e("td",[s._v("等于列表中的任意一个")])]),s._v(" "),e("tr",[e("td",[s._v("ANY|SOME")]),s._v(" "),e("td",[s._v("和子查询返回的某一个值比较")])]),s._v(" "),e("tr",[e("td",[s._v("ALL")]),s._v(" "),e("td",[s._v("和子查询返回的所有值比较")])])])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("返回location_id是1400或1700的部门中的所有员工姓名")]),s._v(" "),e("p",[s._v("①查询location_id是1400或1700的"),e("code",[s._v("部门编号")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT DISTINCT department_id\nFROM departments\nWHERE location_id IN(1400,1700)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("② 查询员工姓名，要求部门号是①列表中的某一个")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT last_name\nFROM employees\nWHERE department_id IN(\n    SELECT DISTINCT department_id\n    FROM departments\n    WHERE location_id IN(1400,1700)\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("返回其它工种中比job_id为‘IT_PROG’工种任一工资低的员工的员工号、姓名、job_id 以及salary")]),s._v(" "),e("p",[s._v("① 查询job_id为‘IT_PROG’部门任一工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT DISTINCT salary\nFROM employees\nWHERE job_id = 'IT_PROG';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("② 查询员工号、姓名、job_id 以及salary，salary<(①)的任意一个")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT last_name,employee_id,job_id,salary\nFROM employees\nWHERE salary<ANY(\n    SELECT DISTINCT salary\n    FROM employees\n    WHERE job_id = 'IT_PROG'\n\n) AND job_id<>'IT_PROG';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("或者(小于最大值，就肯定满足任意一个)")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT last_name,employee_id,job_id,salary\nFROM employees\nWHERE salary<(\n    SELECT MAX(salary)\n    FROM employees\n    WHERE job_id = 'IT_PROG'\n\n) AND job_id<>'IT_PROG';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("返回其它部门中比job_id为‘IT_PROG’部门所有工资都低的员工 的员工号、姓名、job_id 以及salary")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT last_name,employee_id,job_id,salary\nFROM employees\nWHERE salary<ALL(\n    SELECT DISTINCT salary\n    FROM employees\n    WHERE job_id = 'IT_PROG'\n\n) AND job_id<>'IT_PROG';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("或者（小于最小的）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT last_name,employee_id,job_id,salary\nFROM employees\nWHERE salary<(\n    SELECT MIN( salary)\n    FROM employees\n    WHERE job_id = 'IT_PROG'\n\n) AND job_id<>'IT_PROG';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])]),s._v(" "),e("h5",{attrs:{id:"行子查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#行子查询"}},[s._v("#")]),s._v(" 行子查询")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询员工编号最小并且工资最高的员工信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT * \nFROM employees\nWHERE (employee_id,salary)=(\n    SELECT MIN(employee_id),MAX(salary)\n    FROM employees\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("或者")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT *\nFROM employees\nWHERE employee_id=(\n    SELECT MIN(employee_id)\n    FROM employees\n)AND salary=(\n    SELECT MAX(salary)\n    FROM employees\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"select后面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#select后面"}},[s._v("#")]),s._v(" select后面")]),s._v(" "),e("p",[s._v("仅仅支持标量子查询")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询每个部门的员工个数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT d.*,(\n    SELECT COUNT(*)\n    FROM employees e\n    WHERE e.department_id = d.`department_id`\n ) 个数\n FROM departments d;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("或者(使用外连接)")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    d.*,\n    count( e.employee_id ) 个数 \nFROM\n    employees e\n    RIGHT JOIN departments d ON e.department_id = d.department_id \nGROUP BY\n    d.department_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询员工号=102的部门名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT department_id,( \n    SELECT department_name \n    FROM departments d \n    WHERE department_id = e.department_id \n) \nFROM\n    employees e \nWHERE\n    e.employee_id = 102;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("或者")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    SELECT department_name,e.department_id\n    FROM departments d\n    INNER JOIN employees e\n    ON d.department_id=e.department_id\n    WHERE e.employee_id=102;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"from后面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#from后面"}},[s._v("#")]),s._v(" from后面")]),s._v(" "),e("p",[s._v("将子查询结果充当一张表，要求必须起别名")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询每个部门的平均工资的工资等级")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT  ag_dep.*,g.`grade_level`\nFROM (\n    SELECT AVG(salary) ag,department_id\n    FROM employees\n    GROUP BY department_id\n) ag_dep\nINNER JOIN job_grades g\nON ag_dep.ag BETWEEN lowest_sal AND highest_sal;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])])])]),s._v(" "),e("h4",{attrs:{id:"exists后面（相关子查询）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exists后面（相关子查询）"}},[s._v("#")]),s._v(" exists后面（相关子查询）")]),s._v(" "),e("p",[s._v("判断子查询是否存在结果，存在返回1，不能存在返回0，可用于筛选判断")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询有员工的部门名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT department_name\nFROM departments d\nWHERE EXISTS(\n    SELECT *\n    FROM employees e\n    WHERE d.`department_id`=e.`department_id`\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询没有女朋友的男神信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT bo.*\nFROM boys bo\nWHERE NOT EXISTS(\n    SELECT boyfriend_id\n    FROM beauty b\n    WHERE bo.`id`=b.`boyfriend_id`\n);\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT bo.*\nFROM boys bo\nWHERE bo.id NOT IN(\n    SELECT boyfriend_id\n    FROM beauty\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])])]),s._v(" "),e("p",[s._v("能用exists的地方就都可以用In替代")]),s._v(" "),e("h2",{attrs:{id:"分页查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分页查询"}},[s._v("#")]),s._v(" 分页查询")]),s._v(" "),e("h3",{attrs:{id:"应用场景-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#应用场景-2"}},[s._v("#")]),s._v(" 应用场景")]),s._v(" "),e("p",[s._v("当要显示的数据，一页显示不全，需要分页提交sql请求")]),s._v(" "),e("h3",{attrs:{id:"语法-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-6"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    select 查询列表\n    from 表\n    【join type】 join 表2\n    on 连接条件\n    where 筛选条件\n    group by 分组字段\n    having 分组后的筛选\n    order by 排序的字段】\n    limit 【offset,】size;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[e("code",[s._v("offset")]),s._v("要显示条目的起始索引（起始索引从0开始）")]),s._v(" "),e("p",[e("code",[s._v("size")]),s._v(" 要显示的条目个数")]),s._v(" "),e("h3",{attrs:{id:"分页公式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分页公式"}},[s._v("#")]),s._v(" 分页公式")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("(page-1)*size,size\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"案例-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-5"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),e("p",[s._v("1.查询前五条员工信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT * FROM  employees LIMIT 0,5;\n# 或者\nSELECT * FROM  employees LIMIT 5;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("2.查询第11条~第25条")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT * FROM  employees LIMIT 10,15;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("3.有奖金的员工信息，并且工资较高的前10名显示出来")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT \n    * \nFROM\n    employees \nWHERE commission_pct IS NOT NULL \nORDER BY salary DESC \nLIMIT 10;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("合并、联合，将多次查询结果合并成一个结果")]),s._v(" "),e("h3",{attrs:{id:"语法-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-7"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("查询语句1\nunion 【all】\n查询语句2\nunion 【all】\n...\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"意义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#意义"}},[s._v("#")]),s._v(" 意义")]),s._v(" "),e("ol",[e("li",[s._v("将一条比较复杂的查询语句拆分成多条语句")]),s._v(" "),e("li",[s._v("适用于查询多个表的时候，查询的列基本是一致")])]),s._v(" "),e("h3",{attrs:{id:"特点-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-7"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),e("ol",[e("li",[s._v("要求多条查询语句的查询列数是一致的！")]),s._v(" "),e("li",[s._v("要求多条查询语句的查询的每一列的类型和顺序最好一致")]),s._v(" "),e("li",[s._v("union关键字默认去重，如果使用union all 可以包含重复项")])]),s._v(" "),e("h3",{attrs:{id:"案例-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-6"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查询部门编号>90或邮箱包含a的员工信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT * FROM employees WHERE email LIKE '%a%' OR department_id>90;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT * FROM employees  WHERE email LIKE '%a%'\nUNION\nSELECT * FROM employees  WHERE department_id>90;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"dml数据处理之增删改"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dml数据处理之增删改"}},[s._v("#")]),s._v(" DML数据处理之增删改")]),s._v(" "),e("p",[s._v("DML(Data Manipulation Language –数据操纵语言) 可以在下列条件下执行:")]),s._v(" "),e("ul",[e("li",[s._v("向表中插入数据")]),s._v(" "),e("li",[s._v("修改现存数据")]),s._v(" "),e("li",[s._v("删除现存数据")])]),s._v(" "),e("p",[e("strong",[s._v("事务是由完成若干项工作的DML语句组成的")])]),s._v(" "),e("p",[s._v("运行以下脚本创建表my_employees")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("USE myemployees;\nCREATE TABLE my_employees(\n    Id INT(10),\n    First_name VARCHAR(10),\n    Last_name VARCHAR(10),\n    Userid VARCHAR(10),\n    Salary DOUBLE(10,2)\n);\nCREATE TABLE users(\n    id INT,\n    userid VARCHAR(10),\n    department_id INT\n\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("p",[s._v("显示表my_employees的结构")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DESC my_employees;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"insert"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#insert"}},[s._v("#")]),s._v(" INSERT")]),s._v(" "),e("h4",{attrs:{id:"方式一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式一"}},[s._v("#")]),s._v(" 方式一")]),s._v(" "),e("h5",{attrs:{id:"语法-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-8"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("insert into 表名(字段名,...) values(值,...);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"特点-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-8"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("要求值的类型和字段的类型要一致或兼容")])]),s._v(" "),e("li",[e("p",[s._v("字段的个数和顺序不一定与原始表中的字段个数和顺序一致")]),s._v(" "),e("p",[e("code",[s._v("但必须保证值和字段一一对应")])])]),s._v(" "),e("li",[e("p",[s._v("假如表中有可以为null的字段，注意可以通过以下两种方式插入null值")]),s._v(" "),e("p",[s._v("① 字段和值都省略\n② 字段写上，值使用null")])]),s._v(" "),e("li",[e("p",[s._v("字段和值的个数必须一致")])]),s._v(" "),e("li",[e("p",[s._v("字段名可以省略，默认所有列")])])]),s._v(" "),e("h4",{attrs:{id:"方式二"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式二"}},[s._v("#")]),s._v(" 方式二")]),s._v(" "),e("p",[s._v("语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("insert into 表名 set 字段=值,字段=值,...;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("两种方式的区别：")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("方式一支持一次插入多行，语法如下：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("insert into 表名【(字段名,..)】 values(值，..),(值，...),...;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("方式一支持子查询，语法如下：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("insert into 表名\n查询语句;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"向表中插入数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#向表中插入数据"}},[s._v("#")]),s._v(" 向表中插入数据")]),s._v(" "),e("p",[s._v("向my_employees表中插入下列数据")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("ID")]),s._v(" "),e("th",[s._v("FIRST_NAME")]),s._v(" "),e("th",[s._v("LAST_NAME")]),s._v(" "),e("th",[s._v("USERID")]),s._v(" "),e("th",[s._v("SALARY")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("1")]),s._v(" "),e("td",[s._v("patel")]),s._v(" "),e("td",[s._v("Ralph")]),s._v(" "),e("td",[s._v("Rpatel")]),s._v(" "),e("td",[s._v("895")])]),s._v(" "),e("tr",[e("td",[s._v("2")]),s._v(" "),e("td",[s._v("Dancs")]),s._v(" "),e("td",[s._v("Betty")]),s._v(" "),e("td",[s._v("Bdancs")]),s._v(" "),e("td",[s._v("860")])]),s._v(" "),e("tr",[e("td",[s._v("3")]),s._v(" "),e("td",[s._v("Biri")]),s._v(" "),e("td",[s._v("Ben")]),s._v(" "),e("td",[s._v("Bbiri")]),s._v(" "),e("td",[s._v("1100")])]),s._v(" "),e("tr",[e("td",[s._v("4")]),s._v(" "),e("td",[s._v("Newman")]),s._v(" "),e("td",[s._v("Chad")]),s._v(" "),e("td",[s._v("Cnewman")]),s._v(" "),e("td",[s._v("750")])]),s._v(" "),e("tr",[e("td",[s._v("5")]),s._v(" "),e("td",[s._v("Ropeburn")]),s._v(" "),e("td",[s._v("Audrey")]),s._v(" "),e("td",[s._v("Aropebur")]),s._v(" "),e("td",[s._v("155")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("INSERT INTO my_employees\nVALUES\n    ( 1, 'patel', 'Ralph', 'Rpatel', 895 ),\n    ( 2, 'Dancs', 'Betty', 'Bdancs', 860 ),\n    ( 3, 'Biri', 'Ben', 'Bbiri', 1100 ),\n    ( 4, 'Newman', 'Chad', 'Cnewman', 750 ),\n    ( 5, 'Ropeburn', 'Audrey', 'Aropebur', 1550 );\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("或者")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 先删除表数据\nDELETE FROM my_employees;\n# 再插入\nINSERT INTO my_employees\nSELECT 1,'patel','Ralph','Rpatel',895 UNION\nSELECT 2,'Dancs','Betty','Bdancs',860 UNION\nSELECT 3,'Biri','Ben','Bbiri',1100 UNION\nSELECT 4,'Newman','Chad','Cnewman',750 UNION\nSELECT 5,'Ropeburn','Audrey','Aropebur',1550;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("向users表中插入数据")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("INSERT INTO users\nVALUES\n    ( 1, 'Rpatel', 10 ),\n    ( 2, 'Bdancs', 10 ),\n    ( 3, 'Bbiri', 20 );\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"update"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[s._v("#")]),s._v(" UPDATE")]),s._v(" "),e("h4",{attrs:{id:"修改单表的记录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改单表的记录"}},[s._v("#")]),s._v(" 修改单表的记录")]),s._v(" "),e("h5",{attrs:{id:"语法-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-9"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("update 表名 set 字段=值,字段=值 【where 筛选条件】;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",[e("li",[e("p",[s._v("将3号员工的last_name修改为“drelxer”")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("UPDATE my_employees SET last_name='drelxer' WHERE id = 3;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("将所有工资少于900的员工的工资修改为1000")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("UPDATE my_employees SET salary=1000 WHERE salary<900;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"修改多表的记录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改多表的记录"}},[s._v("#")]),s._v(" 修改多表的记录")]),s._v(" "),e("h5",{attrs:{id:"语法-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-10"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("update 表1 别名 \nleft|right|inner join 表2 别名 \non 连接条件  \nset 字段=值,字段=值 \n【where 筛选条件】;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"delete"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[s._v("#")]),s._v(" DELETE")]),s._v(" "),e("h4",{attrs:{id:"删除单表的记录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除单表的记录"}},[s._v("#")]),s._v(" 删除单表的记录")]),s._v(" "),e("h5",{attrs:{id:"语法-11"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-11"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("delete from 表名 【where 筛选条件】【limit 条目数】\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"级联删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#级联删除"}},[s._v("#")]),s._v(" 级联删除")]),s._v(" "),e("h5",{attrs:{id:"语法-12"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-12"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("delete 别名1,别名2 from 表1 别名 \ninner|left|right join 表2 别名 \non 连接条件\n 【where 筛选条件】\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("ol",[e("li",[e("p",[s._v("将userid 为Bbiri的user表和my_employees表的记录全部删除")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELETE u,e \nFROM\n    users u\n    JOIN my_employees e \nON u.`userid` = e.`Userid` \nWHERE\n    u.`userid` = 'Bbiri';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除所有数据")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELETE FROM my_employees;\nDELETE FROM users;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"truncate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#truncate"}},[s._v("#")]),s._v(" TRUNCATE")]),s._v(" "),e("p",[s._v("清空表")]),s._v(" "),e("h4",{attrs:{id:"语法-13"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法-13"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("truncate table 表名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"delete和truncate的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#delete和truncate的区别"}},[s._v("#")]),s._v(" DELETE和TRUNCATE的区别")]),s._v(" "),e("ol",[e("li",[s._v("truncate删除后，如果再插入，标识列从1开始。delete删除后，如果再插入，标识列从断点开始")]),s._v(" "),e("li",[s._v("delete可以添加筛选条件，truncate不可以添加筛选条件")]),s._v(" "),e("li",[s._v("truncate效率较高")]),s._v(" "),e("li",[s._v("truncate没有返回值，delete可以返回受影响的行数")]),s._v(" "),e("li",[s._v("truncate不可以回滚，delete可以回滚")])]),s._v(" "),e("h2",{attrs:{id:"ddl数据库定义语言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ddl数据库定义语言"}},[s._v("#")]),s._v(" DDL数据库定义语言")]),s._v(" "),e("p",[s._v("数据定义语言：简称DDL(Data Definition Language)，用来定义数据库对象：数据库，表，列等。关键字：create，alter，drop等")]),s._v(" "),e("ul",[e("li",[s._v("创建： create")]),s._v(" "),e("li",[s._v("修改： alter")]),s._v(" "),e("li",[s._v("删除： drop")])]),s._v(" "),e("h3",{attrs:{id:"库的管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#库的管理"}},[s._v("#")]),s._v(" 库的管理")]),s._v(" "),e("h4",{attrs:{id:"创建库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建库"}},[s._v("#")]),s._v(" 创建库")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create database 【if not exists】 库名【 character set 字符集名】;\nCREATE DATABASE IF NOT EXISTS books;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"修改库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改库"}},[s._v("#")]),s._v(" 修改库")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter database 库名 character set 字符集名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"修改库名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改库名"}},[s._v("#")]),s._v(" 修改库名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("已废弃：RENAME DATABASE books TO 新库名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"修改库的字符集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改库的字符集"}},[s._v("#")]),s._v(" 修改库的字符集")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER DATABASE books CHARACTER SET gbk;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"删除库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除库"}},[s._v("#")]),s._v(" 删除库")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("drop database 【if exists】 库名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"表的管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#表的管理"}},[s._v("#")]),s._v(" 表的管理")]),s._v(" "),e("h4",{attrs:{id:"创建表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建表"}},[s._v("#")]),s._v(" 创建表")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table 表名(\n    列名 列的类型【(长度) 约束】,\n    列名 列的类型【(长度) 约束】,\n    列名 列的类型【(长度) 约束】,\n    ...\n    列名 列的类型【(长度) 约束】\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[e("strong",[s._v("创建表Book表")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE book ( \n    id INT AUTO_INCREMENT PRIMARY KEY, #编号\n    bName VARCHAR ( 20 ), #图书名\n    price DOUBLE, #价格\n    authorId INT, #作者编号\n    publishDate DATETIME #出版日期\n);\n\n\nCREATE TABLE college_professional(\n\tcp_id INT AUTO_INCREMENT PRIMARY KEY,\n\tc_id INT ,\n\tp_id INT ,\n\tCONSTRAINT fk_college_id FOREIGN KEY(c_id) REFERENCES college(c_id) \n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[e("strong",[s._v("查看book表结构")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DESC book;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("创建表author")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE IF NOT EXISTS author(\n    id INT,\n    au_name VARCHAR(20),\n    nation VARCHAR(10)\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("数据类型")]),s._v(" "),e("h4",{attrs:{id:"修改表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改表"}},[s._v("#")]),s._v(" 修改表")]),s._v(" "),e("h5",{attrs:{id:"添加列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加列"}},[s._v("#")]),s._v(" 添加列")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 add column 列名 类型 【first|after 字段名】;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"修改列的类型或约束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改列的类型或约束"}},[s._v("#")]),s._v(" 修改列的类型或约束")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 modify column 列名 新类型 【新约束】;\n\nALTER TABLE college_professional ADD CONSTRAINT fk_professional_id FOREIGN KEY(p_id) REFERENCES professional(p_id)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h5",{attrs:{id:"修改列名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改列名"}},[s._v("#")]),s._v(" 修改列名")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 change column 旧列名 新列名 类型;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"删除列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除列"}},[s._v("#")]),s._v(" 删除列")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 drop column 列名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"修改表名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改表名"}},[s._v("#")]),s._v(" 修改表名")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 rename 【to】 新表名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"删除表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除表"}},[s._v("#")]),s._v(" 删除表")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("drop table【if exists】 表名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"复制表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复制表"}},[s._v("#")]),s._v(" 复制表")]),s._v(" "),e("h5",{attrs:{id:"复制表的结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复制表的结构"}},[s._v("#")]),s._v(" 复制表的结构")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table 表名 like 旧表;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"复制表的结构-数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复制表的结构-数据"}},[s._v("#")]),s._v(" 复制表的结构+数据")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table 表名 \nselect 查询列表 from 旧表【where 筛选】;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("案例")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("向author表插入数据")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("INSERT INTO author\nVALUES\n    ( 1, '村上春树', '日本' ),\n    ( 2, '莫言', '中国' ),\n    ( 3, '冯唐', '中国' ),\n    ( 4, '金庸', '中国' );\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("创建表copy，复制author表的结构")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE copy LIKE author;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("创建表copy2，复制author表的结构和数据")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE copy2 \nSELECT * FROM author;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("创建表copy3，复制author表的"),e("code",[s._v("部分数据")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE copy3\nSELECT id,au_name\nFROM author \nWHERE nation='中国';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("创建表copy4，复制author表的"),e("code",[s._v("部分字段")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE copy4 \nSELECT id,au_name\nFROM author\nWHERE 0;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"mysql数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据类型"}},[s._v("#")]),s._v(" MYSQL数据类型")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[e("strong",[s._v("分类")])]),s._v(" "),e("th",[e("strong",[s._v("类型名称")])]),s._v(" "),e("th",[e("strong",[s._v("说明")])])])]),s._v(" "),e("tbody",[e("tr",[e("td",[e("strong",[s._v("整数类型")])]),s._v(" "),e("td",[s._v("tinyInt")]),s._v(" "),e("td",[s._v("很小的整数")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("smallint")]),s._v(" "),e("td",[s._v("小的整数")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("mediumint")]),s._v(" "),e("td",[s._v("中等大小的整数")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("int(integer)")]),s._v(" "),e("td",[s._v("普通大小的整数")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("小数类型")])]),s._v(" "),e("td",[s._v("float")]),s._v(" "),e("td",[s._v("单精度浮点数")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("double")]),s._v(" "),e("td",[s._v("双精度浮点数")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("decimal（m,d）")]),s._v(" "),e("td",[s._v("压缩严格的定点数")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("日期类型")])]),s._v(" "),e("td",[s._v("year")]),s._v(" "),e("td",[s._v("YYYY 1901~2155")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("time")]),s._v(" "),e("td",[s._v("HH : MM : SS -838:59 : 59~838 : 59 : 59")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("date")]),s._v(" "),e("td",[s._v("YYYY-MM-DD 1000-01-01~9999-12-3")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("datetime")]),s._v(" "),e("td",[s._v("YYYY-MM-DD HH : MM : SS 1000-01-01 00 : 00 : 00~ 9999-12-31 23 : 59 : 59")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("timestamp")]),s._v(" "),e("td",[s._v("YYYY-MM-DD HH : MM : SS 1970"),e("s",[s._v("01")]),s._v("01 00 : 00 : 01 UTC~2038-01-19 03 : 14 : 07UTC")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("文本、二进制类型")])]),s._v(" "),e("td",[s._v("CHAR(M)")]),s._v(" "),e("td",[s._v("M为0~255之间的整数")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("VARCHAR(M)")]),s._v(" "),e("td",[s._v("M为0~65535之间的整数")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("TINYBLOB")]),s._v(" "),e("td",[s._v("允许长度0~255字节")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("BLOB")]),s._v(" "),e("td",[s._v("允许长度0~65535字节")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("MEDIUMBLOB")]),s._v(" "),e("td",[s._v("允许长度0~167772150字节")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("LONGBLOB")]),s._v(" "),e("td",[s._v("允许长度0~4294967295字节")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("TINYTEXT")]),s._v(" "),e("td",[s._v("允许长度0~255字节")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("TEXT")]),s._v(" "),e("td",[s._v("允许长度0~65535字节")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("MEDIUMTEXT")]),s._v(" "),e("td",[s._v("允许长度0~167772150字节")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("LONGTEXT")]),s._v(" "),e("td",[s._v("允许长度0~4294967295字节")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("VARBINARY(M)")]),s._v(" "),e("td",[s._v("允许长度0~M个字节的变长字节字符串")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td",[s._v("BINARY(M)")]),s._v(" "),e("td",[s._v("允许长度0~M个字节的定长字节字符串")])])])]),s._v(" "),e("h4",{attrs:{id:"数值型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数值型"}},[s._v("#")]),s._v(" 数值型")]),s._v(" "),e("h5",{attrs:{id:"整型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#整型"}},[s._v("#")]),s._v(" 整型")]),s._v(" "),e("p",[s._v("tinyint、smallint、mediumint、int/integer、bigint")]),s._v(" "),e("p",[e("strong",[s._v("特点：")])]),s._v(" "),e("ol",[e("li",[s._v("都可以设置无符号和有符号，默认有符号，通过unsigned设置无符号")]),s._v(" "),e("li",[s._v("如果超出了范围，会报out or range异常，插入临界值")]),s._v(" "),e("li",[s._v("长度可以不指定，默认会有一个长度，长度代表显示的最大宽度，如果不够则左边用0填充，但需要搭配zerofill，并且默认变为无符号整型")])]),s._v(" "),e("p",[e("strong",[s._v("如何设置无符号")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE tab_int(\n    t1 INT,\n    t2 INT unsigned \n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[e("strong",[s._v("显示长度")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE tab_int(\n    t1 INT(7) ZEROFILL,\n    t2 INT(7) ZEROFILL \n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h5",{attrs:{id:"浮点型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浮点型"}},[s._v("#")]),s._v(" 浮点型")]),s._v(" "),e("p",[e("strong",[s._v("定点数")]),s._v("：decimal(M,D) "),e("strong",[s._v("浮点数")]),s._v(": float(M,D) double(M,D)")]),s._v(" "),e("p",[e("strong",[s._v("特点：")])]),s._v(" "),e("ol",[e("li",[s._v("M代表整数部位+小数部位的个数，D代表小数部位")]),s._v(" "),e("li",[s._v("如果超出范围，则报out or range异常，并且插入临界值")]),s._v(" "),e("li",[s._v("M和D都可以省略，但对于定点数，M默认为10，D默认为0")]),s._v(" "),e("li",[s._v("如果精度要求较高，则优先考虑使用定点数")])]),s._v(" "),e("h4",{attrs:{id:"字符型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符型"}},[s._v("#")]),s._v(" 字符型")]),s._v(" "),e("p",[s._v("char、varchar、binary、varbinary、enum(用于保存枚举)、set(用于保存集合)、text、blob")]),s._v(" "),e("p",[s._v("char：固定长度的字符，写法为char(M)，最大长度不能超过M，其中M可以省略，默认为1")]),s._v(" "),e("p",[s._v("varchar：可变长度的字符，写法为varchar(M)，最大长度不能超过M，其中M不可以省略")]),s._v(" "),e("p",[s._v("Enum：又称为枚举类型哦，要求插入的值必须属于列表中指定的值之一。")]),s._v(" "),e("p",[s._v("Set：和Enum类型类似，里面可以保存0~64个成员。和Enum类型最大的区别是：SET类型一次可以选取多个成员，而Enum只能选一个")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE tab_char(\n    c1 ENUM('a','b','c')\n);\n\nINSERT INTO tab_char VALUES('a');\nINSERT INTO tab_char VALUES('b');\nINSERT INTO tab_char VALUES('c');\nINSERT INTO tab_char VALUES('m');    --\x3e 会插入空字符 ''\nINSERT INTO tab_char VALUES('A');    --\x3e  会插入 'a'\nCREATE TABLE tab_set(\n    s1 SET('a','b','c','d')\n);\n\nINSERT INTO tab_set VALUES('a');\nINSERT INTO tab_set VALUES('A,B');\nINSERT INTO tab_set VALUES('a,c,d');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h4",{attrs:{id:"日期型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日期型"}},[s._v("#")]),s._v(" 日期型")]),s._v(" "),e("p",[s._v("year年 date日期 time时间 datetime 日期+时间 timestamp 日期+时间 ，比较容易受时区、语法模式、版本的影响，更能反映当前时区的真实时间")]),s._v(" "),e("h3",{attrs:{id:"常见的约束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见的约束"}},[s._v("#")]),s._v(" 常见的约束")]),s._v(" "),e("ul",[e("li",[s._v("NOT NULL：非空，该字段的值必填")]),s._v(" "),e("li",[s._v("UNIQUE：唯一，该字段的值不可重复")]),s._v(" "),e("li",[s._v("DEFAULT：默认，该字段的值不用手动插入有默认值")]),s._v(" "),e("li",[s._v("CHECK：检查，mysql不支持（但是设置并不会报错，只是没有效果）")]),s._v(" "),e("li",[s._v("PRIMARY KEY：主键，该字段的值不可重复并且非空 unique+not null")]),s._v(" "),e("li",[s._v("FOREIGN KEY：外键，该字段的值引用了另外的表的字段")])]),s._v(" "),e("p",[s._v("添加约束的时机：")]),s._v(" "),e("ol",[e("li",[s._v("创建表时")]),s._v(" "),e("li",[s._v("修改表时")])]),s._v(" "),e("p",[e("strong",[s._v("约束的添加分类")]),s._v("：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    列级约束：\n\n        六大约束语法上都支持，但外键约束没有效果\n\n    表级约束：\n\n        除了非空、默认，其他的都支持\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"主键和唯一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主键和唯一"}},[s._v("#")]),s._v(" 主键和唯一")]),s._v(" "),e("ol",[e("li",[s._v("一个表至多有一个主键，但可以有多个唯一")]),s._v(" "),e("li",[s._v("主键不允许为空，唯一可以为空")])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th"),s._v(" "),e("th",[s._v("保证唯一性")]),s._v(" "),e("th",[s._v("是否允许为空")]),s._v(" "),e("th",[s._v("一个表中可以有多少个")]),s._v(" "),e("th",[s._v("是否允许组合")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("主键")]),s._v(" "),e("td",[s._v("√")]),s._v(" "),e("td",[s._v("×")]),s._v(" "),e("td",[s._v("至多有1个")]),s._v(" "),e("td",[s._v("√，但不推荐")])]),s._v(" "),e("tr",[e("td",[s._v("唯一")]),s._v(" "),e("td",[s._v("√")]),s._v(" "),e("td",[s._v("√")]),s._v(" "),e("td",[s._v("可以有多个")]),s._v(" "),e("td",[s._v("√，但不推荐")])])])]),s._v(" "),e("p",[e("strong",[s._v("外键：")])]),s._v(" "),e("ol",[e("li",[s._v("要求在从表设置外键关系")]),s._v(" "),e("li",[s._v("从表的外键列的类型和主表的关联列的类型要求一致或兼容，名称无要求")]),s._v(" "),e("li",[s._v("主表的关联列"),e("code",[s._v("必须是一个key")]),s._v("（一般是主键或唯一）")]),s._v(" "),e("li",[s._v("插入数据时，先插入主表，再插入从表")]),s._v(" "),e("li",[s._v("删除数据时，先删除从表，再删除主表")])]),s._v(" "),e("h4",{attrs:{id:"创建表时添加约束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建表时添加约束"}},[s._v("#")]),s._v(" 创建表时添加约束")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE 表名(\n    字段名 字段类型 列级约束,\n    字段名 字段类型,\n    表级约束\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h5",{attrs:{id:"添加列级约束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加列级约束"}},[s._v("#")]),s._v(" 添加列级约束")]),s._v(" "),e("p",[s._v("直接在字段名和类型后面追加 约束类型即可。")]),s._v(" "),e("p",[s._v("只支持：默认、非空、主键、唯一")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 创建一个数据库\nCREATE DATABASE students;\nUSE students;\nCREATE TABLE stuinfo (\n    id INT PRIMARY KEY,#主键\n    stuName VARCHAR ( 20 ) NOT NULL UNIQUE,#非空并且唯一\n    gender CHAR ( 1 ) CHECK ( gender = '男' OR gender = '女' ),#检查\n    seat INT UNIQUE,#唯一\n    age INT DEFAULT 18,#默认约束\n    majorId INT REFERENCES major ( id ) #外键，(没有效果)\n);\n\nCREATE TABLE major(\n    id INT PRIMARY KEY,\n    majorName VARCHAR(20)\n);\n\n# 查看stuinfo中的所有索引，包括主键、外键、唯一\nSHOW INDEX FROM stuinfo;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("h5",{attrs:{id:"添加表级约束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加表级约束"}},[s._v("#")]),s._v(" 添加表级约束")]),s._v(" "),e("p",[s._v("在各个字段的最下面")]),s._v(" "),e("p",[s._v("【constraint 约束名】 约束类型(字段名)")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DROP TABLE IF EXISTS stuinfo;\nCREATE TABLE stuinfo (\n    id INT,\n    stuname VARCHAR ( 20 ),\n    gender CHAR ( 1 ),\n    seat INT,\n    age INT,\n    majorid INT,\n    CONSTRAINT pk PRIMARY KEY ( id ),#主键\n    CONSTRAINT uq UNIQUE ( seat ),#唯一键\n    CONSTRAINT ck CHECK ( gender = '男' OR gender = '女' ),#检查\n    CONSTRAINT fk_stuinfo_major FOREIGN KEY ( majorid ) REFERENCES major ( id ) #外键\n\n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h5",{attrs:{id:"通用写法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通用写法"}},[s._v("#")]),s._v(" 通用写法")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE TABLE IF NOT EXISTS stuinfo (\n        id INT PRIMARY KEY,\n        stuname VARCHAR ( 20 ),\n        sex CHAR ( 1 ),\n        age INT DEFAULT 18,\n        seat INT UNIQUE,\n        majorid INT,\n    CONSTRAINT fk_stuinfo_major FOREIGN KEY ( majorid ) REFERENCES major ( id ) \n);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h4",{attrs:{id:"修改表时添加约束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改表时添加约束"}},[s._v("#")]),s._v(" 修改表时添加约束")]),s._v(" "),e("ul",[e("li",[s._v("添加列级约束")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 modify column 字段名 字段类型 新约束;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("添加表级约束")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 add 【constraint 约束名】 约束类型(字段名) 【外键的引用】;\nDROP TABLE IF EXISTS stuinfo;\nCREATE TABLE stuinfo(\n    id INT,\n    stuname VARCHAR(20),\n    gender CHAR(1),\n    seat INT,\n    age INT,\n    majorid INT\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("ol",[e("li",[e("p",[s._v("添加非空约束")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo MODIFY COLUMN stuname VARCHAR(20)  NOT NULL;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("添加默认约束")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo MODIFY COLUMN age INT DEFAULT 18;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("添加主键")]),s._v(" "),e("p",[s._v("① 列级约束")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo MODIFY COLUMN id INT PRIMARY KEY;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("② 表级约束")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo ADD PRIMARY KEY(id);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("添加唯一")]),s._v(" "),e("p",[s._v("① 列级约束")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo MODIFY COLUMN seat INT UNIQUE;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("② 表级约束")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo ADD UNIQUE(seat);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("添加外键")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo \nADD CONSTRAINT fk_stuinfo_major FOREIGN KEY(majorid) REFERENCES major(id); \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"修改表时删除约束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改表时删除约束"}},[s._v("#")]),s._v(" 修改表时删除约束")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("删除非空约束")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo MODIFY COLUMN stuname VARCHAR(20) NULL;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除默认约束")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo MODIFY COLUMN age INT ;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除主键")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo DROP PRIMARY KEY;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除唯一")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo DROP INDEX seat;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除外键")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ALTER TABLE stuinfo DROP FOREIGN KEY fk_stuinfo_major;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"自增长列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自增长列"}},[s._v("#")]),s._v(" 自增长列")]),s._v(" "),e("p",[s._v("不用手动插入值，可以自动提供序列值，默认从1开始，步长为1")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("auto_increment_increment\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("如果要更改起始值：手动插入值")]),s._v(" "),e("p",[s._v("如果要更改步长：更改系统变量："),e("code",[s._v("set auto_increment_increment=值;")])]),s._v(" "),e("ol",[e("li",[s._v("一个表至多有一个自增长列")]),s._v(" "),e("li",[s._v("自增长列只能支持数值型")]),s._v(" "),e("li",[s._v("自增长列必须为一个key")])]),s._v(" "),e("h4",{attrs:{id:"创建表时设置自增长列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建表时设置自增长列"}},[s._v("#")]),s._v(" 创建表时设置自增长列")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table 表(\n    字段名 字段类型 约束 auto_increment\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"修改表时设置自增长列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改表时设置自增长列"}},[s._v("#")]),s._v(" 修改表时设置自增长列")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表 modify column 字段名 字段类型 约束 auto_increment\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"删除自增长列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除自增长列"}},[s._v("#")]),s._v(" 删除自增长列")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表 modify column 字段名 字段类型 约束 \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"mysql事物"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql事物"}},[s._v("#")]),s._v(" MySQL事物")]),s._v(" "),e("p",[s._v("TCL："),e("code",[s._v("Transaction Control Language")]),s._v(" 事务控制语言")]),s._v(" "),e("blockquote",[e("p",[s._v("事务由单独单元的一个或多个SQL语句组成，在这个单元中，每个MySQL语句是相互依赖的。而整个单独单元作为一个不可分割的整体，如果单元中某条SQL语句一旦执行失败或产生错误，整个单元将会回滚。所有受到影响的数据将返回到事物开始以前的状态；如果单元中的所有SQL语句均执行成功，则事物被顺利执行。")])]),s._v(" "),e("p",[s._v("一个或一组sql语句组成一个执行单元，这个执行单元要么"),e("strong",[s._v("全部执行")]),s._v("，要么"),e("strong",[s._v("全部不执行")]),s._v("。")]),s._v(" "),e("ul",[e("li",[s._v("概念：在mysql中的数据用各种不同的技术存储在文件（或内存）中。")]),s._v(" "),e("li",[s._v("通过show engines；来查看mysql支持的存储引擎。")]),s._v(" "),e("li",[s._v("在mysql中用的最多的存储引擎有：innodb，myisam ,memory 等。其中"),e("code",[s._v("innodb")]),s._v("支持事务，而myisam、memory等不支持")])]),s._v(" "),e("h3",{attrs:{id:"转账案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转账案例"}},[s._v("#")]),s._v(" 转账案例")]),s._v(" "),e("p",[s._v("张三丰转给郭襄500元")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 张三丰  1000\n# 郭襄    1000\n\nupdate 表 set 张三丰的余额=张三丰的余额-500 where name='张三丰'\n\n#　中间发生意外，张三丰的余额少了500，而郭襄的余额并没有增加\n\nupdate 表 set 郭襄的余额=郭襄的余额+500 where name='郭襄'\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"事务的特性-acid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事务的特性-acid"}},[s._v("#")]),s._v(" 事务的特性(ACID)")]),s._v(" "),e("ol",[e("li",[e("p",[e("strong",[s._v("原子性")]),s._v("（Atomicity）")]),s._v(" "),e("p",[s._v("原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("一致性")]),s._v("（Consistency）")]),s._v(" "),e("p",[s._v("事务必须使数据库从一个一致性状态变换到另外一个一致性状态。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("隔离性")]),s._v("（Isolation）")]),s._v(" "),e("p",[s._v("事务的隔离性是指一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("持久性")]),s._v("（Durability）")]),s._v(" "),e("p",[s._v("持久性是指一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来的其他操作和数据库故障不应该对其有任何影响")])])]),s._v(" "),e("h3",{attrs:{id:"事务的创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事务的创建"}},[s._v("#")]),s._v(" 事务的创建")]),s._v(" "),e("h4",{attrs:{id:"隐式事务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#隐式事务"}},[s._v("#")]),s._v(" 隐式事务")]),s._v(" "),e("p",[s._v("事务没有明显的开启和结束的标记，比如insert、update、delete语句")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 执行完表中id列为1的那一行数据就直接被删除了\ndelete from 表 where id =1;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"显式事务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显式事务"}},[s._v("#")]),s._v(" 显式事务")]),s._v(" "),e("p",[s._v("事务具有明显的开启和结束的标记")]),s._v(" "),e("p",[s._v("前提：必须先设置自动提交功能为禁用 "),e("code",[s._v("set autocommit=0;")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 查看自动提交是否开启\nSHOW VARIABLES LIKE 'autocommit';\n\n# 查看数据库引擎\nSHOW ENGINES;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h5",{attrs:{id:"开启事物步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开启事物步骤"}},[s._v("#")]),s._v(" 开启事物步骤")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("开启事务")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 关闭自动提交\nset autocommit=0;\n\n#　开启事物（可选）\nstart transaction;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("编写事务中的sql语句(select insert update delete)")])]),s._v(" "),e("li",[e("p",[s._v("可选："),e("code",[s._v("savepoint 节点名")]),s._v(";设置回滚点")])]),s._v(" "),e("li",[e("p",[s._v("结束事务")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("commit;提交事务\n# 或者\nrollback;回滚事务\n# 或者\nrollback to 回滚点名;回滚到指定的地方\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"并发事务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#并发事务"}},[s._v("#")]),s._v(" 并发事务")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("事务的并发问题是如何发生的？")]),s._v(" "),e("p",[s._v("多个事务 同时 操作 同一个数据库的相同数据时")])]),s._v(" "),e("li",[e("p",[s._v("并发问题都有哪些？")]),s._v(" "),e("p",[e("strong",[s._v("脏读:")]),s._v(" 对于两个事务 T1, T2, T1 读取了已经被 T2 更新但还没有被提交的字段. 之后, 若 T2 回滚, T1读取的内容就是临时且无效的")]),s._v(" "),e("p",[e("strong",[s._v("不可重复读:")]),s._v(" 对于两个事务T1, T2, T1 读取了一个字段, 然后 T2 更新了该字段. 之后, T1再次读取同一个字段, 值就不同了(在一个事物中不管读多少次，读取的数据应该都一样)")]),s._v(" "),e("p",[e("strong",[s._v("幻读:")]),s._v(" 对于两个事务T1, T2, T1 从一个表中读取了一个字段, 然后 T2 在该表中插入了一些新的行. 之后, 如果 T1 再次读取同一个表, 就会多出几行")])]),s._v(" "),e("li",[e("p",[s._v("如何解决并发问题")]),s._v(" "),e("p",[s._v("通过设置隔离级别来解决并发问题")])])]),s._v(" "),e("h3",{attrs:{id:"事物隔离级别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事物隔离级别"}},[s._v("#")]),s._v(" 事物隔离级别")]),s._v(" "),e("p",[s._v("√：已解决")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("隔离级别")]),s._v(" "),e("th",[s._v("脏读")]),s._v(" "),e("th",[s._v("不可重复读")]),s._v(" "),e("th",[s._v("幻读")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("read uncommitted:读未提交")]),s._v(" "),e("td",[s._v("×")]),s._v(" "),e("td",[s._v("×")]),s._v(" "),e("td",[s._v("×")])]),s._v(" "),e("tr",[e("td",[s._v("read committed：读已提交")]),s._v(" "),e("td",[s._v("√")]),s._v(" "),e("td",[s._v("×")]),s._v(" "),e("td",[s._v("×")])]),s._v(" "),e("tr",[e("td",[s._v("repeatable read：可重复读")]),s._v(" "),e("td",[s._v("√")]),s._v(" "),e("td",[s._v("√")]),s._v(" "),e("td",[s._v("×")])]),s._v(" "),e("tr",[e("td",[s._v("serializable：串行化")]),s._v(" "),e("td",[s._v("√")]),s._v(" "),e("td",[s._v("√")]),s._v(" "),e("td",[s._v("√")])])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mysql`中默认 第三个隔离级别 `repeatable read\noracle`中默认第二个隔离级别 `read committed\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("查看隔离级别")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select @@tx_isolation;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("设置隔离级别")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 设置当前 mySQL 连接的隔离级别: \nset transaction isolation level read committed;\n\n# 设置数据库系统的全局的隔离级别:\nset global transaction isolation level read committed;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"案例-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-7"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("事务的使用步骤")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 开启事务\nSET autocommit=0;\nSTART TRANSACTION;\n# 编写一组事务的语句\nUPDATE account SET balance = 1000 WHERE username='张无忌';\nUPDATE account SET balance = 1000 WHERE username='赵敏';\n\n# 结束事务\nROLLBACK;\n# COMMIT;\n\nSELECT * FROM account;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("事务对于delete和truncate的处理的区别")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET autocommit=0;\nSTART TRANSACTION;\n\nDELETE FROM account;\nROLLBACK;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("TRUNCATE 无法回滚")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET autocommit=0;\nSTART TRANSACTION;\n\nTRUNCATE TABLE account;\nROLLBACK;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("savepoint 的使用")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET autocommit=0;\nSTART TRANSACTION;\nDELETE FROM account WHERE id=25;\nSAVEPOINT a;#设置保存点\nDELETE FROM account WHERE id=28;\nROLLBACK TO a;#回滚到保存点\n\nSELECT * FROM account;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"mysql视图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql视图"}},[s._v("#")]),s._v(" MySQL视图")]),s._v(" "),e("blockquote",[e("p",[s._v("MySQL从5.0.1版本开始提供视图功能。一种虚拟存在的表，行和列的数据来自定义视图的查询中 使用的表，并且是在使用视图时动态生成的，只保存了sql逻辑，不保存查询结果")])]),s._v(" "),e("h3",{attrs:{id:"应用场景-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#应用场景-3"}},[s._v("#")]),s._v(" 应用场景")]),s._v(" "),e("ul",[e("li",[s._v("多个地方用到同样的查询结果")]),s._v(" "),e("li",[s._v("该查询结果使用的sql语句较复杂")])]),s._v(" "),e("h3",{attrs:{id:"优点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[s._v("#")]),s._v(" 优点")]),s._v(" "),e("ol",[e("li",[s._v("简化sql语句")]),s._v(" "),e("li",[s._v("提高了sql的重用性")]),s._v(" "),e("li",[s._v("保护基表的数据，提高了安全性")])]),s._v(" "),e("h3",{attrs:{id:"创建视图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建视图"}},[s._v("#")]),s._v(" 创建视图")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create view 视图名\nas\n查询语句;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ol",[e("li",[e("p",[s._v("创建视图emp_v1,要求查询电话号码以‘011’开头的员工姓名和工资、邮箱")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE VIEW emp_v1 AS SELECT\n    last_name,\n    salary,\n    email \nFROM\n    employees \nWHERE\n    phone_number LIKE '011%';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("创建视图emp_v2，要求查询部门的最高工资高于12000的部门信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 创建视图，查询每个部门的最高工资,筛选出高于12000的\nDROP VIEW emp_v2;\nCREATE VIEW emp_v2 AS SELECT\ndepartment_id,\nMAX( salary ) max_salary \nFROM\n    employees \nGROUP BY\n    department_id \nHAVING\n    max_salary > 12000;\n\n# 根据创建的视图连接departments表查询部门信息\nSELECT\n    d.*,\n    ev2.max_salary \nFROM\n    departments d\n    JOIN emp_v2 ev2 \n    ON d.department_id = ev2.department_id;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询姓名中包含a字符的员工名、部门名和工种信息")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 查询员工名、部门名和工种信息\nCREATE VIEW emp_v3 AS SELECT\ne.last_name,\nd.department_name,\nj.job_title \nFROM\n    employees e\n    LEFT JOIN departments d ON e.department_id = d.department_id\n    LEFT JOIN jobs j ON e.job_id = j.job_id;\n\n# 筛选出姓名中包含a字符的员工\nSELECT * FROM emp_v3 WHERE last_name LIKE '%a%';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询各部门的平均工资级别")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 查询各部门的平均工资\nCREATE VIEW emp_v4 AS SELECT\nAVG( salary ) avg_salary,\ndepartment_id \nFROM\n    employees \nGROUP BY\n    department_id;\n\n# 查询各部门的平均工资级别\nSELECT\n    department_id,\n    j.grade_level \nFROM\n    emp_v4 ev4\n    LEFT JOIN job_grades j \n    ON ev4.avg_salary BETWEEN j.lowest_sal \n    AND j.highest_sal\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查询平均工资最低的部门信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT\n    d.*,\n    ev4.avg_salary \nFROM\n    departments d\n    JOIN ( SELECT * FROM emp_v4 ORDER BY avg_salary LIMIT 1 ) ev4 \n    ON d.department_id = ev4.department_id\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"修改视图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改视图"}},[s._v("#")]),s._v(" 修改视图")]),s._v(" "),e("h4",{attrs:{id:"方式一-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式一-2"}},[s._v("#")]),s._v(" 方式一")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create or replace view  视图名\nas\n查询语句;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"方式二-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式二-2"}},[s._v("#")]),s._v(" 方式二")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter view 视图名\nas \n查询语句;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"删除视图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除视图"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/view?id=%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"}},[s._v("删除视图")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("drop view 视图名,视图名,...\nDROP VIEW emp_v1,emp_v2,emp_v3,emp_v4;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"查看视图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看视图"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/view?id=%E6%9F%A5%E7%9C%8B%E8%A7%86%E5%9B%BE"}},[s._v("查看视图")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DESC 视图名;\n\nSHOW CREATE VIEW 视图名;\nCREATE VIEW emp_v1 AS SELECT\n* \nFROM\n    employees;\n\nDESC emp_v1;\n\nSHOW CREATE VIEW emp_v1;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"视图的更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#视图的更新"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/view?id=%E8%A7%86%E5%9B%BE%E7%9A%84%E6%9B%B4%E6%96%B0"}},[s._v("视图的更新")])]),s._v(" "),e("p",[s._v("视图的可更新性和视图中查询的定义有关系，以下类型的视图是不能更新的。")]),s._v(" "),e("ul",[e("li",[s._v("包含以下关键字的sql语句：分组函数、distinct、group by")]),s._v(" "),e("li",[s._v("having、union或者union all")]),s._v(" "),e("li",[s._v("常量视图")]),s._v(" "),e("li",[s._v("Select中包含子查询")]),s._v(" "),e("li",[s._v("join")]),s._v(" "),e("li",[s._v("from一个不能更新的视图")]),s._v(" "),e("li",[s._v("where子句的子查询引用了from子句中的表")])]),s._v(" "),e("h4",{attrs:{id:"案例-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-8"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/view?id=%E6%A1%88%E4%BE%8B"}},[s._v("案例")])]),s._v(" "),e("ol",[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("张飞能否成功插入？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   # 创建视图，查询员工的姓名，邮箱和年薪\n   \n   CREATE \n       OR REPLACE VIEW myv1 AS SELECT\n       last_name,\n       email,\n       salary * 12 *(1+IFNULL ( commission_pct, 0 )) \"annual salary\" \n   FROM\n       employees;\n   \n   # 插入一条数据\n   INSERT INTO myv1 VALUES('张飞','zf@qq.com',94862.00);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("ol",[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("张飞能否成功插入？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   # 创建视图，查询员工的姓名和邮箱\n   \n   CREATE \n       OR REPLACE VIEW myv1 AS SELECT\n       last_name,\n       email\n   FROM\n       employees;\n   \n   # 插入一条数据\n   INSERT INTO myv1 VALUES('张飞','zf@qq.com');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("能否将张飞修改为张无忌？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   UPDATE myv1 SET last_name = '张无忌' WHERE last_name='张飞';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("能否干掉张无忌？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   DELETE FROM myv1 WHERE last_name = '张无忌';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("能否将10号部门的最高薪水改为9000？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   #　创建视图，查询每个部门的最高工资\n   CREATE \n       OR REPLACE VIEW myv1 AS SELECT\n       MAX( salary ) m,\n       department_id \n   FROM\n       employees \n   GROUP BY\n       department_id;\n   \n   ＃ 将10号部门的最高薪水改为9000\n   UPDATE myv1 SET m=9000 WHERE department_id=10;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("ol",{attrs:{start:"5"}},[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("能否更改？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   CREATE OR REPLACE VIEW myv2\n   AS\n   SELECT 'john' NAME;\n   \n   #更新\n   UPDATE myv2 SET NAME='lucy';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ol",{attrs:{start:"6"}},[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("能够将最高工资列修改为100000？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   CREATE OR REPLACE VIEW myv3 AS \n   SELECT department_id,( SELECT MAX( salary ) FROM employees ) 最高工资 \n   FROM\n       departments;\n   \n   # 修改\n   \n   UPDATE myv3 SET 最高工资=100000;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("ol",{attrs:{start:"7"}},[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("修改和插入能成功吗？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   # 创建视图，查询员工名与部门名\n   CREATE \n       OR REPLACE VIEW myv4 AS SELECT\n       last_name,\n       department_name \n   FROM\n       employees e\n       JOIN departments d ON e.department_id = d.department_id;\n   \n   # 修改\n   UPDATE myv4 SET last_name  = '张飞' WHERE last_name='Whalen';\n   # 插入\n   INSERT INTO myv4 VALUES('陈真','Acc');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("ol",{attrs:{start:"8"}},[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("能修改吗？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   CREATE \n       OR REPLACE VIEW myv5 AS SELECT\n       * \n   FROM\n       myv3;\n   \n   # 修改\n   UPDATE myv5 SET 最高工资=10000 WHERE department_id=60;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("ol",{attrs:{start:"9"}},[e("li",[e("details",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[e("summary",{staticStyle:{"-webkit-font-smoothing":"antialiased","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","text-size-adjust":"none","box-sizing":"border-box"}},[s._v("能修改吗？")])])])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   # 查询所有的领导信息\n   CREATE OR REPLACE VIEW myv6\n   AS\n   \n   SELECT last_name,email,salary\n   FROM employees\n   WHERE employee_id IN(\n       SELECT  manager_id\n       FROM employees\n       WHERE manager_id IS NOT NULL\n   );\n   \n   # 修改\n   UPDATE myv6 SET salary=10000 WHERE last_name = 'k_ing';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("p",[s._v("查询领导Id（将所有员工的上级Id查出来，这些Id就是领导Id）：")]),s._v(" "),e("p",[e("code",[s._v("SELECT DISTINCT manager_id FROM employees WHERE manager_id IS NOT NULL")])]),s._v(" "),e("h3",{attrs:{id:"视图和表的对比"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#视图和表的对比"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/view?id=%E8%A7%86%E5%9B%BE%E5%92%8C%E8%A1%A8%E7%9A%84%E5%AF%B9%E6%AF%94"}},[s._v("视图和表的对比")])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th"),s._v(" "),e("th",[s._v("关键字")]),s._v(" "),e("th",[s._v("是否占用物理空间")]),s._v(" "),e("th",[s._v("使用")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("视图")]),s._v(" "),e("td",[s._v("view")]),s._v(" "),e("td",[s._v("占用较小，只保存sql逻辑")]),s._v(" "),e("td",[s._v("一般用于查询")])]),s._v(" "),e("tr",[e("td",[s._v("表")]),s._v(" "),e("td",[s._v("table")]),s._v(" "),e("td",[s._v("保存实际的数据")]),s._v(" "),e("td",[s._v("增删改查")])])])]),s._v(" "),e("h2",{attrs:{id:"变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/variable?id=%E5%8F%98%E9%87%8F"}},[s._v("变量")])]),s._v(" "),e("h3",{attrs:{id:"系统变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统变量"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/variable?id=%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"}},[s._v("系统变量")])]),s._v(" "),e("p",[s._v("系统变量：")]),s._v(" "),e("ul",[e("li",[s._v("全局变量")]),s._v(" "),e("li",[s._v("会话变量")])]),s._v(" "),e("p",[s._v("说明：变量由系统定义，不是用户定义，属于服务器层面")]),s._v(" "),e("p",[s._v("注意：全局变量需要添加global关键字，会话变量需要添加session关键字，如果不写，默认会话级别")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("查看所有系统变量")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 全局\nshow global variables;\n\n#会话\nshow【session】variables;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查看满足条件的部分系统变量")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show global |【session】 variables like '%char%';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查看指定的系统变量的值（"),e("code",[s._v("带.")]),s._v("）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("select @@global |【@@session】.系统变量名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("为某个系统变量赋值")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("方式一")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("set global|【session】系统变量名=值;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("方式二（"),e("code",[s._v("带.")]),s._v("）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("set @@global|【@@session】.系统变量名=值;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])])])]),s._v(" "),e("p",[e("strong",[s._v("例如：")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 查看所有全局变量\nSHOW GLOBAL VARIABLES;\n# 查看满足条件的部分系统变量\nSHOW GLOBAL VARIABLES LIKE '%char%';\n# 查看指定的系统变量的值\nSELECT @@global.autocommit;\n# 为某个系统变量赋值\nSET @@global.autocommit=0;\nSET GLOBAL autocommit=0;\n# 查看所有会话变量\nSHOW SESSION VARIABLES;\n# 查看满足条件的部分会话变量\nSHOW SESSION VARIABLES LIKE '%char%';\n# 查看指定的会话变量的值\nSELECT @@autocommit;\nSELECT @@session.tx_isolation;\n# 为某个会话变量赋值\nSET @@session.tx_isolation='read-uncommitted';\nSET SESSION tx_isolation='read-committed';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("h3",{attrs:{id:"自定义变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义变量"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/variable?id=%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"}},[s._v("自定义变量")])]),s._v(" "),e("p",[s._v("变量由用户自定义，而不是系统提供的")]),s._v(" "),e("p",[s._v("作用域：针对于当前会话（连接）有效，作用域同于会话变量")]),s._v(" "),e("p",[e("strong",[s._v("声明并初始化")])]),s._v(" "),e("p",[s._v("赋值操作符："),e("code",[s._v("=")]),s._v("或"),e("code",[s._v(":=")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET @变量名=值;\nSET @变量名:=值;\nSELECT @变量名:=值;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("strong",[s._v("更新变量的值")])]),s._v(" "),e("ul",[e("li",[e("p",[s._v("方式一")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET @变量名=值;\nSET @变量名:=值;\nSELECT @变量名:=值;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("方式二")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT 字段 INTO @变量名\nFROM 表;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("p",[e("strong",[s._v("查看变量的值")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT @变量名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"局部变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#局部变量"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/variable?id=%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"}},[s._v("局部变量")])]),s._v(" "),e("p",[s._v("作用域：仅仅在定义它的begin end块中有效")]),s._v(" "),e("p",[s._v("应在 begin end中的第一句话声明")]),s._v(" "),e("p",[e("strong",[s._v("声明")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DECLARE\n    变量名 类型;\n    ...\nEND\n\n## \n\nDECLARE \n    变量名 类型 【DEFAULT 值】;\n    ...\nEND\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[e("strong",[s._v("赋值（更新变量的值）")])]),s._v(" "),e("ul",[e("li",[e("p",[s._v("方式一")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET 局部变量名=值;\nSET 局部变量名:=值;\nSELECT 局部变量名:=值;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("方式二")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT 字段 INTO 具备变量名\nFROM 表;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("p",[e("strong",[s._v("查看变量的值")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT 局部变量名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"案例-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-9"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/variable?id=%E6%A1%88%E4%BE%8B"}},[s._v("案例")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("声明两个用户变量，求和并打印")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET @m=1;\nSET @n=1;\nSET @sum=@m+@n;\nSELECT @sum;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"存储过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#存储过程"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/procedure?id=%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"}},[s._v("存储过程")])]),s._v(" "),e("p",[e("strong",[s._v("什么是存储过程：")])]),s._v(" "),e("blockquote",[e("p",[s._v("事先经过编译并存储在数据库中的一段sql语句的集合。")]),s._v(" "),e("p",[s._v("类似于java中的方法")])]),s._v(" "),e("p",[e("strong",[s._v("使用好处")])]),s._v(" "),e("ol",[e("li",[s._v("简化应用开发人员的很多工作")]),s._v(" "),e("li",[s._v("减少数据在数据库和应用服务器之间的传输")]),s._v(" "),e("li",[s._v("提高了数据处理的效率")]),s._v(" "),e("li")]),s._v(" "),e("p",[s._v("一组预先编译好的SQL语句的集合，理解成批处理语句")]),s._v(" "),e("h3",{attrs:{id:"创建语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建语法"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/procedure?id=%E5%88%9B%E5%BB%BA%E8%AF%AD%E6%B3%95"}},[s._v("创建语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE PROCEDURE 存储过程名(参数列表)\nBEGIN\n\n    存储过程体（一组合法的SQL语句）\nEND\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("strong",[s._v("参数列表包含三部分")])]),s._v(" "),e("ul",[e("li",[s._v("参数模式")]),s._v(" "),e("li",[s._v("参数名")]),s._v(" "),e("li",[s._v("参数类型")])]),s._v(" "),e("blockquote",[e("p",[s._v("例：in stuname varchar(20)")])]),s._v(" "),e("p",[e("strong",[s._v("参数模式：")])]),s._v(" "),e("p",[e("code",[s._v("in")]),s._v("：该参数可以作为输入，也就是该参数需要调用方传入值")]),s._v(" "),e("p",[e("code",[s._v("out")]),s._v("：该参数可以作为输出，也就是该参数可以作为返回值")]),s._v(" "),e("p",[e("code",[s._v("inout")]),s._v("：该参数既可以作为输入又可以作为输出，也就是该参数既需要传入值，又可以返回值")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("如果存储过程体仅仅只有一句话，begin end可以省略")])]),s._v(" "),e("li",[e("p",[s._v("存储过程体中的每条sql语句的结尾要求必须加分号。")])]),s._v(" "),e("li",[e("p",[s._v("存储过程的结尾可以使用 delimiter 重新设置（避免与存储过程体的分号混淆）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("delimiter 结束标记\n# 例\ndelimiter $\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])]),s._v(" "),e("p",[e("strong",[s._v("例：")])]),s._v(" "),e("p",[s._v("插入到admin表中五条记录")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("USE girls;\n\nDELIMITER $\nCREATE PROCEDURE myp1()\nBEGIN\n    INSERT INTO admin(username,`password`) \n    VALUES\n    ('john1','0000'),('lily','0000'),('rose','0000'),('jack','0000'),('tom','0000');\nEND $\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h3",{attrs:{id:"调用语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用语法"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/procedure?id=%E8%B0%83%E7%94%A8%E8%AF%AD%E6%B3%95"}},[s._v("调用语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CALL 存储过程名(实参列表);\nCALL myp1();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"创建带in模式参数的存储过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建带in模式参数的存储过程"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/procedure?id=%E5%88%9B%E5%BB%BA%E5%B8%A6in%E6%A8%A1%E5%BC%8F%E5%8F%82%E6%95%B0%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"}},[s._v("创建带in模式参数的存储过程")])]),s._v(" "),e("p",[s._v("创建存储过程实现 根据女神名，查询对应的男神信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER $\nCREATE PROCEDURE myp2(IN beautyName VARCHAR(20))\nBEGIN\n    SELECT bo.*\n    FROM boys bo\n    RIGHT JOIN beauty b ON bo.id = b.boyfriend_id\n    WHERE b.name=beautyName;\nEND $\nCALL myp2('赵敏');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("创建存储过程实现，判断用户是否登录成功")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER $\nCREATE PROCEDURE myp3(IN username VARCHAR(20),IN PASSWORD VARCHAR(20))\nBEGIN\n    DECLARE result INT DEFAULT 0;    #声明并初始化\n\n    SELECT COUNT(*) INTO result    #赋值\n    FROM admin\n    WHERE admin.username = username\n    AND admin.password = PASSWORD;\n\n    SELECT IF(result>0,'成功','失败');    #使用\nEND $\nCALL myp3('john','8888');\nCALL myp3('john','1234');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h3",{attrs:{id:"创建out模式参数的存储过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建out模式参数的存储过程"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/procedure?id=%E5%88%9B%E5%BB%BAout%E6%A8%A1%E5%BC%8F%E5%8F%82%E6%95%B0%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"}},[s._v("创建out模式参数的存储过程")])]),s._v(" "),e("p",[s._v("根据输入的女神名，返回对应的男神名")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER $\nCREATE PROCEDURE myp4(IN beautyName VARCHAR(20),OUT boyName VARCHAR(20))\nBEGIN\n    SELECT bo.boyname INTO boyname\n    FROM boys bo\n    RIGHT JOIN\n    beauty b ON b.boyfriend_id = bo.id\n    WHERE b.name=beautyName ;\nEND $\n# 调用 使用自定义变量接收\nCALL myp4('赵敏',@name);\nSELECT @name;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[s._v("根据输入的女神名，返回对应的男神名和魅力值")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER $\nCREATE PROCEDURE myp5(IN beautyName VARCHAR(20),OUT boyName VARCHAR(20),OUT usercp INT) \nBEGIN\n    SELECT boys.boyname ,boys.usercp INTO boyname,usercp\n    FROM boys \n    RIGHT JOIN\n    beauty b ON b.boyfriend_id = boys.id\n    WHERE b.name=beautyName ;\n\nEND $\nCALL myp5('小昭',@name,@cp);\nSELECT @name,@cp;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h3",{attrs:{id:"创建带inout模式参数的存储过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建带inout模式参数的存储过程"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/procedure?id=%E5%88%9B%E5%BB%BA%E5%B8%A6inout%E6%A8%A1%E5%BC%8F%E5%8F%82%E6%95%B0%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"}},[s._v("创建带inout模式参数的存储过程")])]),s._v(" "),e("p",[s._v("传入a和b两个值，最终a和b都翻倍并返回")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER $\nCREATE OR REPLACE PROCEDURE myp5(INOUT a INT,INOUT b INT)\nBEGIN\n\n    SET a:=a*2;\n    SET b:=b*2;\n\nEND $\nSET @m=10;\nSET @n=20;\nCALL myp5(@m,@n);\nSELECT @m,@n;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h3",{attrs:{id:"查看存储过程的信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看存储过程的信息"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/procedure?id=%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E4%BF%A1%E6%81%AF"}},[s._v("查看存储过程的信息")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SHOW CREATE PROCEDURE myp5;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"存储函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#存储函数"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/function?id=%E5%AD%98%E5%82%A8%E5%87%BD%E6%95%B0"}},[s._v("存储函数")])]),s._v(" "),e("h3",{attrs:{id:"存储过程与存储函数的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#存储过程与存储函数的区别"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/function?id=%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%AD%98%E5%82%A8%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"}},[s._v("存储过程与存储函数的区别")])]),s._v(" "),e("blockquote",[e("p",[s._v("存储过程：可以有0个返回，也可以有多个返回，适合做批量插入、批量更新")]),s._v(" "),e("p",[s._v("存储函数：有且仅有1 个返回，适合做处理数据后返回一个结果")])]),s._v(" "),e("h3",{attrs:{id:"创建语法-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建语法-2"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/function?id=%E5%88%9B%E5%BB%BA%E8%AF%AD%E6%B3%95"}},[s._v("创建语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CREATE FUNCTION 函数名(参数列表) RETURNS 返回类型\nBEGIN\n    函数体\nEND\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("ul",[e("li",[s._v("参数列表 包含两部分：参数名，参数类型")]),s._v(" "),e("li",[s._v("函数体：\n"),e("ul",[e("li",[s._v("肯定会有return语句，如果没有会报错 如果return语句没有放在函数体的最后也不报错，但不建议")]),s._v(" "),e("li",[s._v("函数体中仅有一句话，则可以省略begin end")])])]),s._v(" "),e("li",[s._v("使用 delimiter语句设置结束标记")])]),s._v(" "),e("h3",{attrs:{id:"调用语法-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用语法-2"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/function?id=%E8%B0%83%E7%94%A8%E8%AF%AD%E6%B3%95"}},[s._v("调用语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT 函数名(参数列表);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"无参有返回"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#无参有返回"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/function?id=%E6%97%A0%E5%8F%82%E6%9C%89%E8%BF%94%E5%9B%9E"}},[s._v("无参有返回")])]),s._v(" "),e("p",[s._v("返回公司的员工个数")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("USE myemployees;\nDELIMITER //\nCREATE FUNCTION myf1() RETURNS INT\nBEGIN\n\n    DECLARE c INT DEFAULT 0;    #定义局部变量\n    SELECT COUNT(*) INTO c     #赋值\n    FROM employees;\n    RETURN c;\n\nEND //\nSELECT myf1();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h3",{attrs:{id:"有参有返回"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#有参有返回"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/function?id=%E6%9C%89%E5%8F%82%E6%9C%89%E8%BF%94%E5%9B%9E"}},[s._v("有参有返回")])]),s._v(" "),e("p",[s._v("根据员工名，返回它的工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER //\nCREATE FUNCTION myf2(empName VARCHAR(20)) RETURNS DOUBLE\nBEGIN\n    SET @sal=0;    #定义用户变量 \n    SELECT salary INTO @sal    #赋值\n    FROM employees\n    WHERE last_name = empName;\n\n    RETURN @sal;\n\nEND //\nSELECT myf2('Kochhar');\n\nSELECT @sal;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("p",[s._v("根据部门名，返回该部门的平均工资")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER //\nCREATE FUNCTION myf3(deptName VARCHAR(20)) RETURNS DOUBLE\nBEGIN\n    DECLARE sal DOUBLE ;\n    SELECT AVG(salary) INTO sal\n    FROM employees e\n    JOIN departments d ON e.department_id = d.department_id\n    WHERE d.department_name=deptName;\n    RETURN sal;\nEND //\nSELECT myf3('IT');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"查看函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看函数"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/function?id=%E6%9F%A5%E7%9C%8B%E5%87%BD%E6%95%B0"}},[s._v("查看函数")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SHOW CREATE FUNCTION myf3;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"删除函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除函数"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/function?id=%E5%88%A0%E9%99%A4%E5%87%BD%E6%95%B0"}},[s._v("删除函数")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DROP FUNCTION myf3;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("创建函数，实现传入两个float，返回二者之和")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER //\nCREATE OR REPLACE FUNCTION myf3(num1 FLOAT,num2 FLOAT) RETURNS FLOAT(3,1)\nBEGIN\n    DECLARE SUM FLOAT(3,1) DEFAULT 0;\n    SET SUM=num1+num2;\n    RETURN SUM;\nEND //\nSELECT myf3(15.5,15.3);    --\x3e 30.8\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h2",{attrs:{id:"流程控制结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流程控制结构"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"}},[s._v("流程控制结构")])]),s._v(" "),e("h3",{attrs:{id:"分支结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分支结构"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"}},[s._v("分支结构")])]),s._v(" "),e("h4",{attrs:{id:"if函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#if函数"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=if%E5%87%BD%E6%95%B0"}},[s._v("if函数")])]),s._v(" "),e("p",[e("strong",[s._v("语法")]),s._v("："),e("code",[s._v("if(条件,值1，值2)")])]),s._v(" "),e("p",[e("strong",[s._v("功能")]),s._v("：实现双分支")]),s._v(" "),e("p",[s._v("应用在begin end中或外面")]),s._v(" "),e("h4",{attrs:{id:"case结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#case结构"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=case%E7%BB%93%E6%9E%84"}},[s._v("case结构")])]),s._v(" "),e("p",[s._v("类似java中的switch")]),s._v(" "),e("p",[e("strong",[s._v("功能")]),s._v("：实现多分支")]),s._v(" "),e("p",[s._v("应用在begin end 中或外面")]),s._v(" "),e("p",[e("strong",[s._v("语法一")]),s._v("：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("case 表达式或字段\nwhen 值1 then 语句1;\nwhen 值2 then 语句2；\n...\nelse 语句n;\nend [case];\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[e("strong",[s._v("语法二")]),s._v("：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("case \nwhen 条件1 then 语句1;\nwhen 条件2 then 语句2；\n...\nelse 语句n;\nend [case];\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("创建函数，实现传入成绩，如果成绩>90,返回A，如果成绩>80,返回B，如果成绩>60,返回C，否则返回D")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER //\nCREATE OR REPLACE FUNCTION test_case(score DOUBLE) RETURNS CHAR\nBEGIN\n-- DECLARE result CHAR;\nCASE  \n    WHEN score>90 THEN\n        RETURN 'A';\n    WHEN score>80 THEN \n        RETURN 'B';\n    WHEN score>60 THEN\n        RETURN 'C';\n    ELSE\n        RETURN 'D';\nEND CASE;\n\nEND //\nSELECT test_case(95);\n\nSELECT test_case(85);\n\nSELECT test_case(75);\n\nSELECT test_case(55);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("h4",{attrs:{id:"if结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#if结构"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=if%E7%BB%93%E6%9E%84"}},[s._v("if结构")])]),s._v(" "),e("p",[e("strong",[s._v("功能")]),s._v("：实现多分支")]),s._v(" "),e("p",[s._v("只能放在begin end中")]),s._v(" "),e("p",[e("strong",[s._v("语法：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("if 条件1 then 语句1;\nelseif 条件2 then 语句2;\n...\nelse 语句n;\nend if;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("创建函数，实现传入成绩，如果成绩>90,返回A，如果成绩>80,返回B，如果成绩>60,返回C，否则返回D")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER //\nCREATE OR REPLACE FUNCTION test_if(score DOUBLE) RETURNS CHAR \nBEGIN \n    DECLARE result CHAR;\n    IF score>90 THEN\n        SET result:='A';\n    ELSEIF score>80 THEN\n        SET result:='B';\n    ELSEIF score>60 THEN\n        SET result:='C';\n    ELSE\n        SET result:='D';\n    END IF;\n    RETURN result;\nEND //\nSELECT test_if(95);\n\nSELECT test_if(85);\n\nSELECT test_if(75);\n\nSELECT test_if(55);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("p",[s._v("创建存储过程，如果工资<2000,则删除，如果5000>工资>2000,则涨工资1000，否则涨工资500")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER //\nCREATE OR REPLACE PROCEDURE test_if2(IN salary DOUBLE)\nBEGIN\n\n    IF salary<2000 THEN\n            DELETE FROM employees WHERE employees.salary=salary;\n    ELSEIF 2000<salary<5000 THEN \n            UPDATE employees SET employees.salary=employees.salary+1000 WHERE employees.salary=salary; \n    ELSE\n            UPDATE employees SET employees.salary=employees.salary+500 WHERE employees.salary=salary; \n    END IF;\nEND //\nCALL test_if2(3300.00);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h3",{attrs:{id:"循环结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#循环结构"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"}},[s._v("循环结构")])]),s._v(" "),e("p",[e("strong",[s._v("分类")]),s._v("："),e("code",[s._v("while")]),s._v("、"),e("code",[s._v("loop")]),s._v("、"),e("code",[s._v("repeat")])]),s._v(" "),e("p",[e("strong",[s._v("循环控制")]),s._v("：")]),s._v(" "),e("p",[e("code",[s._v("iterate")]),s._v("类似于 "),e("code",[s._v("continue")]),s._v("，继续，结束本次循环，继续下一次")]),s._v(" "),e("p",[e("code",[s._v("leave")]),s._v(" 类似于 "),e("code",[s._v("break")]),s._v("，跳出，结束当前所在的循环")]),s._v(" "),e("p",[s._v("只能放在begin end中")]),s._v(" "),e("p",[e("strong",[s._v("标签")]),s._v("：用上循环控制就必须要加")]),s._v(" "),e("h4",{attrs:{id:"while"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#while"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=while"}},[s._v("while")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[标签:] while 循环条件 do\n    循环体;\nend while [标签];\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("批量插入，根据次数插入到admin表中多条记录")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("USE girls;\n\nDELIMITER //\nCREATE OR REPLACE PROCEDURE test_while(IN total INT)\nBEGIN\n\nDECLARE i INT DEFAULT 0;\n\nWHILE i<total DO\n    INSERT INTO admin VALUES(NULL,CONCAT('员工',i),'8888');\n    SET i:=i+1;\nEND WHILE;\n\nEND //\nCALL test_while(10);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[s._v("批量插入，根据次数插入到admin表中多条记录，如果次数>20则停止 （需要加标签）")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER //\nCREATE OR REPLACE PROCEDURE test_while(IN total INT)\nBEGIN\n\nDECLARE i INT DEFAULT 1;\n\na:WHILE i<=total DO\n    IF i>20 THEN LEAVE a;\n    END IF;\n    INSERT INTO admin VALUES(NULL,CONCAT('员工',i),'8888');\n    SET i:=i+1;\nEND WHILE a;\n\nEND //\nTRUNCATE TABLE admin;\nCALL test_while(100);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("p",[s._v("批量插入，根据次数插入到admin表中多条记录，只插入偶数次")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("DELIMITER //\nCREATE OR REPLACE PROCEDURE test_while(IN total INT)\nBEGIN\n\nDECLARE i INT DEFAULT 0;\n\na:WHILE i<=total DO\n    SET i:=i+1;\n    IF MOD(i,2)!=0 THEN ITERATE a;\n    END IF;\n    INSERT INTO admin VALUES(NULL,CONCAT('员工',i),'8888');\n\nEND WHILE a;\n\nEND //\n\nTRUNCATE TABLE admin;\nCALL test_while(20);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("h4",{attrs:{id:"loop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#loop"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=loop"}},[s._v("loop")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[标签:] loop\n\n    循环体;\n\nend loop [标签];\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h4",{attrs:{id:"repeat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#repeat"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"#/backend/mysql/processcontrol?id=repeat"}},[s._v("repeat")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[标签] repeat\n    循环体;\nuntil 结束循环的条件\nend repeat [标签];\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);