(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{358:function(e,a,s){"use strict";s.r(a);var t=s(3),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"kubernetes-常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-常用命令"}},[e._v("#")]),e._v(" Kubernetes 常用命令")]),e._v(" "),s("blockquote",[s("p",[s("strong",[e._v("小提示：")]),e._v(" 所有命令前都可以加上 "),s("code",[e._v("watch")]),e._v(" 命令来观察状态的实时变化，如："),s("code",[e._v("watch kubectl get pods --all-namespaces")])])]),e._v(" "),s("h2",{attrs:{id:"查看组件状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看组件状态"}},[e._v("#")]),e._v(" 查看组件状态")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get cs\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看环境信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看环境信息"}},[e._v("#")]),e._v(" 查看环境信息")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl cluster-info\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-node"}},[e._v("#")]),e._v(" 查看 Node")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get nodes -o wide\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看集群配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看集群配置"}},[e._v("#")]),e._v(" 查看集群配置")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl -n kube-system get cm kubeadm-config -oyaml\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"运行容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行容器"}},[e._v("#")]),e._v(" 运行容器")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl run nginx --image=nginx --replicas=2 --port=80\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"暴露服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暴露服务"}},[e._v("#")]),e._v(" 暴露服务")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl expose deployment nginx --port=80 --type=LoadBalancer\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看命名空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看命名空间"}},[e._v("#")]),e._v(" 查看命名空间")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get nskubectl get namespace\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"创建命名空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建命名空间"}},[e._v("#")]),e._v(" 创建命名空间")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("apiVersion: v1kind: Namespacemetadata:  name: development\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看容器"}},[e._v("#")]),e._v(" 查看容器")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get pods -o widekubectl get deployment -o wide\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看服务"}},[e._v("#")]),e._v(" 查看服务")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get svc -o widekubectl get service -o wide\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看详情，追踪事件，可用于定位问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看详情，追踪事件，可用于定位问题"}},[e._v("#")]),e._v(" 查看详情，追踪事件，可用于定位问题")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl describe pod <Pod Name>kubectl describe deployment <Deployment Name>kubectl describe service <Service Name>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[e._v("#")]),e._v(" 查看日志")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl logs -f <Pod Name>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"删除容器和服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除容器和服务"}},[e._v("#")]),e._v(" 删除容器和服务")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl delete deployment <Deployment Name>kubectl delete service <Service Name>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"配置方式运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置方式运行"}},[e._v("#")]),e._v(" 配置方式运行")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl apply -f <YAML>kubectl create -f <YAML>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"配置方式删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置方式删除"}},[e._v("#")]),e._v(" 配置方式删除")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl delete -f <YAML>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看配置"}},[e._v("#")]),e._v(" 查看配置")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubeadm config viewkubectl config view\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看-ingress"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-ingress"}},[e._v("#")]),e._v(" 查看 Ingress")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get ingress\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看持久卷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看持久卷"}},[e._v("#")]),e._v(" 查看持久卷")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get pv\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看持久卷消费者"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看持久卷消费者"}},[e._v("#")]),e._v(" 查看持久卷消费者")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get pvc\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看-configmap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-configmap"}},[e._v("#")]),e._v(" 查看 ConfigMap")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get cm <ConfigMap Name>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"修改-configmap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改-configmap"}},[e._v("#")]),e._v(" 修改 ConfigMap")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl edit cm <ConfigMap Name>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"查看认证与授权"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看认证与授权"}},[e._v("#")]),e._v(" 查看认证与授权")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl get secret [-n namespace]\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"port-forward-方式暴露服务到主机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#port-forward-方式暴露服务到主机"}},[e._v("#")]),e._v(" Port Forward 方式暴露服务到主机")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl port-forward svc/<Service Name> <Host Port>:<Service Port> --namespace=<Namespace> --address 0.0.0.0\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);